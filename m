Return-Path: <iommu-bounces@lists.linux-foundation.org>
X-Original-To: lists.iommu@lfdr.de
Delivered-To: lists.iommu@lfdr.de
Received: from smtp1.osuosl.org (smtp1.osuosl.org [140.211.166.138])
	by mail.lfdr.de (Postfix) with ESMTPS id 24A873AE766
	for <lists.iommu@lfdr.de>; Mon, 21 Jun 2021 12:41:57 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp1.osuosl.org (Postfix) with ESMTP id 462B782ED1;
	Mon, 21 Jun 2021 10:41:55 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
	by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id khowcCGA2PSI; Mon, 21 Jun 2021 10:41:53 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp1.osuosl.org (Postfix) with ESMTPS id E491982E69;
	Mon, 21 Jun 2021 10:41:52 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id AE110C000C;
	Mon, 21 Jun 2021 10:41:52 +0000 (UTC)
X-Original-To: iommu@lists.linux-foundation.org
Delivered-To: iommu@lists.linuxfoundation.org
Received: from smtp2.osuosl.org (smtp2.osuosl.org [IPv6:2605:bc80:3010::133])
 by lists.linuxfoundation.org (Postfix) with ESMTP id BC95FC000C
 for <iommu@lists.linux-foundation.org>; Mon, 21 Jun 2021 10:41:50 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp2.osuosl.org (Postfix) with ESMTP id A8C324015D
 for <iommu@lists.linux-foundation.org>; Mon, 21 Jun 2021 10:41:50 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Authentication-Results: smtp2.osuosl.org (amavisd-new);
 dkim=pass (2048-bit key) header.d=bytedance-com.20150623.gappssmtp.com
Received: from smtp2.osuosl.org ([127.0.0.1])
 by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id A1GKoONhR0QO for <iommu@lists.linux-foundation.org>;
 Mon, 21 Jun 2021 10:41:48 +0000 (UTC)
X-Greylist: whitelisted by SQLgrey-1.8.0
Received: from mail-ed1-x536.google.com (mail-ed1-x536.google.com
 [IPv6:2a00:1450:4864:20::536])
 by smtp2.osuosl.org (Postfix) with ESMTPS id 9709C40197
 for <iommu@lists.linux-foundation.org>; Mon, 21 Jun 2021 10:41:47 +0000 (UTC)
Received: by mail-ed1-x536.google.com with SMTP id c7so17304866edn.6
 for <iommu@lists.linux-foundation.org>; Mon, 21 Jun 2021 03:41:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bytedance-com.20150623.gappssmtp.com; s=20150623;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=FtuLW83VL8J4SwWZc8U/zGIJCiAV8jQdKzP2dddYt2E=;
 b=wj3QiPm5ROzOgsc+ouWHNMaMLZrnt2Ym1FFAwWqre1Xj7lKw0nww6NZJ7yXRYn2TKI
 D2hl6GDAkZldmJfEjU7QloQZiw1+ESuFa8Ez4JIMgVxYjYhTlDKwhFQc3Ki1YoMLbIty
 06ADJP4eOOwN4lQk8P6uKwL4BUk9JyKn0MLhrcmmTGuueZ4fMK6PE+44DISlxVJ1dKzc
 jBT1Ckjbe+wdZTK1iuPMG6bA1sQC0L3kaqNYXBzy5hC6nXIfQ1YHK1Ft6Yle2kQhJB8P
 xDKS1IBCJ2RQdKJv67jQrWIDcj6Cm0GHWcsChK9nva7D6Tg7I8tGHVby2GDOB3U3Dc51
 Dw3w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=FtuLW83VL8J4SwWZc8U/zGIJCiAV8jQdKzP2dddYt2E=;
 b=VViwNQi/6VnZ8r3mNq24QED2AdAFJIyPSATXF/vV2pK8OMtQU/HbSQJQ9lASxyfYv/
 h3ZMjsMSVUuZGpMVl2s9+wnjkyC4KpobhIxpSQyU4+0fBLWj7Q3J2wUEKfbSdNJeyQ5e
 3tQlL+/LmCSHOgXvF2mS12eZEhx4tuMgR7CX8kzztTSeP6RPLEbN27otU96Ocj/IsEOv
 XsL4NwjQ/XNXsTeju3o+qSoYu7FIV5ckHVoQfP9fHfRUskW/sj2qUkhCPlTodYOwv7zV
 o8FUGcnXGtvXEsnkx5vj3804l3ZbyoH9kEUAh5FQejEcrejvSJyTcU48v4x64fNNMw0l
 c0JQ==
X-Gm-Message-State: AOAM531I5OYonFRklUbs6T/fNiKEPS0MBkHBgMhlYfQM5j5/VrOKsbGK
 csnO/gIOMONUReMhzwi4VK+vyl0eef0ak133Re51
X-Google-Smtp-Source: ABdhPJyCpAitcusd3sN30GDak50tHN8OxI8PSbt/ADqXG79StzU+iM8oHtp6ceoEtR/6kfN2CYvHlvf+q+M06i7POeo=
X-Received: by 2002:a05:6402:5:: with SMTP id
 d5mr20520285edu.312.1624272105519; 
 Mon, 21 Jun 2021 03:41:45 -0700 (PDT)
MIME-Version: 1.0
References: <20210615141331.407-1-xieyongji@bytedance.com>
 <20210615141331.407-10-xieyongji@bytedance.com>
 <adfb2be9-9ed9-ca37-ac37-4cd00bdff349@redhat.com>
In-Reply-To: <adfb2be9-9ed9-ca37-ac37-4cd00bdff349@redhat.com>
From: Yongji Xie <xieyongji@bytedance.com>
Date: Mon, 21 Jun 2021 18:41:34 +0800
Message-ID: <CACycT3tAON+-qZev+9EqyL2XbgH5HDspOqNt3ohQLQ8GqVK=EA@mail.gmail.com>
Subject: Re: Re: [PATCH v8 09/10] vduse: Introduce VDUSE - vDPA Device in
 Userspace
To: Jason Wang <jasowang@redhat.com>
Cc: kvm <kvm@vger.kernel.org>, "Michael S. Tsirkin" <mst@redhat.com>,
 virtualization <virtualization@lists.linux-foundation.org>,
 Christian Brauner <christian.brauner@canonical.com>,
 Jonathan Corbet <corbet@lwn.net>, Matthew Wilcox <willy@infradead.org>,
 Christoph Hellwig <hch@infradead.org>,
 Dan Carpenter <dan.carpenter@oracle.com>,
 Stefano Garzarella <sgarzare@redhat.com>, Al Viro <viro@zeniv.linux.org.uk>,
 Stefan Hajnoczi <stefanha@redhat.com>, songmuchun@bytedance.com,
 Jens Axboe <axboe@kernel.dk>, Greg KH <gregkh@linuxfoundation.org>,
 Randy Dunlap <rdunlap@infradead.org>,
 linux-kernel <linux-kernel@vger.kernel.org>, iommu@lists.linux-foundation.org,
 bcrl@kvack.org, netdev@vger.kernel.org, linux-fsdevel@vger.kernel.org,
 =?UTF-8?Q?Mika_Penttil=C3=A4?= <mika.penttila@nextfour.com>
X-BeenThere: iommu@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Development issues for Linux IOMMU support
 <iommu.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/iommu>,
 <mailto:iommu-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/iommu/>
List-Post: <mailto:iommu@lists.linux-foundation.org>
List-Help: <mailto:iommu-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/iommu>,
 <mailto:iommu-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: iommu-bounces@lists.linux-foundation.org
Sender: "iommu" <iommu-bounces@lists.linux-foundation.org>

T24gTW9uLCBKdW4gMjEsIDIwMjEgYXQgNToxNCBQTSBKYXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRo
YXQuY29tPiB3cm90ZToKPgo+Cj4g5ZyoIDIwMjEvNi8xNSDkuIvljYgxMDoxMywgWGllIFlvbmdq
aSDlhpnpgZM6Cj4gPiBUaGlzIFZEVVNFIGRyaXZlciBlbmFibGVzIGltcGxlbWVudGluZyB2RFBB
IGRldmljZXMgaW4gdXNlcnNwYWNlLgo+ID4gVGhlIHZEUEEgZGV2aWNlJ3MgY29udHJvbCBwYXRo
IGlzIGhhbmRsZWQgaW4ga2VybmVsIGFuZCB0aGUgZGF0YQo+ID4gcGF0aCBpcyBoYW5kbGVkIGlu
IHVzZXJzcGFjZS4KPiA+Cj4gPiBBIG1lc3NhZ2UgbWVjaG5pc20gaXMgdXNlZCBieSBWRFVTRSBk
cml2ZXIgdG8gZm9yd2FyZCBzb21lIGNvbnRyb2wKPiA+IG1lc3NhZ2VzIHN1Y2ggYXMgc3RhcnRp
bmcvc3RvcHBpbmcgZGF0YXBhdGggdG8gdXNlcnNwYWNlLiBVc2Vyc3BhY2UKPiA+IGNhbiB1c2Ug
cmVhZCgpL3dyaXRlKCkgdG8gcmVjZWl2ZS9yZXBseSB0aG9zZSBjb250cm9sIG1lc3NhZ2VzLgo+
ID4KPiA+IEFuZCBzb21lIGlvY3RscyBhcmUgaW50cm9kdWNlZCB0byBoZWxwIHVzZXJzcGFjZSB0
byBpbXBsZW1lbnQgdGhlCj4gPiBkYXRhIHBhdGguIFZEVVNFX0lPVExCX0dFVF9GRCBpb2N0bCBj
YW4gYmUgdXNlZCB0byBnZXQgdGhlIGZpbGUKPiA+IGRlc2NyaXB0b3JzIHJlZmVycmluZyB0byB2
RFBBIGRldmljZSdzIGlvdmEgcmVnaW9ucy4gVGhlbiB1c2Vyc3BhY2UKPiA+IGNhbiB1c2UgbW1h
cCgpIHRvIGFjY2VzcyB0aG9zZSBpb3ZhIHJlZ2lvbnMuIFZEVVNFX0RFVl9HRVRfRkVBVFVSRVMK
PiA+IGFuZCBWRFVTRV9WUV9HRVRfSU5GTyBpb2N0bHMgYXJlIHVzZWQgdG8gZ2V0IHRoZSBuZWdv
dGlhdGVkIGZlYXR1cmVzCj4gPiBhbmQgbWV0YWRhdGEgb2YgdmlydHF1ZXVlcy4gVkRVU0VfSU5K
RUNUX1ZRX0lSUSBhbmQgVkRVU0VfVlFfU0VUVVBfS0lDS0ZECj4gPiBpb2N0bHMgY2FuIGJlIHVz
ZWQgdG8gaW5qZWN0IGludGVycnVwdCBhbmQgc2V0dXAgdGhlIGtpY2tmZCBmb3IKPiA+IHZpcnRx
dWV1ZXMuIFZEVVNFX0RFVl9VUERBVEVfQ09ORklHIGlvY3RsIGlzIHVzZWQgdG8gdXBkYXRlIHRo
ZQo+ID4gY29uZmlndXJhdGlvbiBzcGFjZSBhbmQgaW5qZWN0IGEgY29uZmlnIGludGVycnVwdC4K
PiA+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBYaWUgWW9uZ2ppIDx4aWV5b25namlAYnl0ZWRhbmNlLmNv
bT4KPiA+IC0tLQo+ID4gICBEb2N1bWVudGF0aW9uL3VzZXJzcGFjZS1hcGkvaW9jdGwvaW9jdGwt
bnVtYmVyLnJzdCB8ICAgIDEgKwo+ID4gICBkcml2ZXJzL3ZkcGEvS2NvbmZpZyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB8ICAgMTAgKwo+ID4gICBkcml2ZXJzL3ZkcGEvTWFrZWZpbGUg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgIDEgKwo+ID4gICBkcml2ZXJzL3ZkcGEv
dmRwYV91c2VyL01ha2VmaWxlICAgICAgICAgICAgICAgICAgICB8ICAgIDUgKwo+ID4gICBkcml2
ZXJzL3ZkcGEvdmRwYV91c2VyL3ZkdXNlX2Rldi5jICAgICAgICAgICAgICAgICB8IDE0NTMgKysr
KysrKysrKysrKysrKysrKysKPiA+ICAgaW5jbHVkZS91YXBpL2xpbnV4L3ZkdXNlLmggICAgICAg
ICAgICAgICAgICAgICAgICAgfCAgMTQzICsrCj4gPiAgIDYgZmlsZXMgY2hhbmdlZCwgMTYxMyBp
bnNlcnRpb25zKCspCj4gPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3ZkcGEvdmRwYV91
c2VyL01ha2VmaWxlCj4gPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3ZkcGEvdmRwYV91
c2VyL3ZkdXNlX2Rldi5jCj4gPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBpbmNsdWRlL3VhcGkvbGlu
dXgvdmR1c2UuaAo+ID4KPiA+IGRpZmYgLS1naXQgYS9Eb2N1bWVudGF0aW9uL3VzZXJzcGFjZS1h
cGkvaW9jdGwvaW9jdGwtbnVtYmVyLnJzdCBiL0RvY3VtZW50YXRpb24vdXNlcnNwYWNlLWFwaS9p
b2N0bC9pb2N0bC1udW1iZXIucnN0Cj4gPiBpbmRleCA5YmZjMmI1MTBjNjQuLmFjZDk1ZTlkY2Zl
NyAxMDA2NDQKPiA+IC0tLSBhL0RvY3VtZW50YXRpb24vdXNlcnNwYWNlLWFwaS9pb2N0bC9pb2N0
bC1udW1iZXIucnN0Cj4gPiArKysgYi9Eb2N1bWVudGF0aW9uL3VzZXJzcGFjZS1hcGkvaW9jdGwv
aW9jdGwtbnVtYmVyLnJzdAo+ID4gQEAgLTMwMCw2ICszMDAsNyBAQCBDb2RlICBTZXEjICAgIElu
Y2x1ZGUgRmlsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21t
ZW50cwo+ID4gICAneicgICAxMC00RiAgZHJpdmVycy9zMzkwL2NyeXB0by96Y3J5cHRfYXBpLmgg
ICAgICAgICAgICAgICAgICAgICAgICBjb25mbGljdCEKPiA+ICAgJ3wnICAgMDAtN0YgIGxpbnV4
L21lZGlhLmgKPiA+ICAgMHg4MCAgMDAtMUYgIGxpbnV4L2ZiLmgKPiA+ICsweDgxICAwMC0xRiAg
bGludXgvdmR1c2UuaAo+ID4gICAweDg5ICAwMC0wNiAgYXJjaC94ODYvaW5jbHVkZS9hc20vc29j
a2lvcy5oCj4gPiAgIDB4ODkgIDBCLURGICBsaW51eC9zb2NraW9zLmgKPiA+ICAgMHg4OSAgRTAt
RUYgIGxpbnV4L3NvY2tpb3MuaCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgU0lPQ1BST1RPUFJJVkFURSByYW5nZQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRwYS9L
Y29uZmlnIGIvZHJpdmVycy92ZHBhL0tjb25maWcKPiA+IGluZGV4IGE1MDNjMWIyYmZkOS4uNmUy
M2JjZTY0MzNhIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy92ZHBhL0tjb25maWcKPiA+ICsrKyBi
L2RyaXZlcnMvdmRwYS9LY29uZmlnCj4gPiBAQCAtMzMsNiArMzMsMTYgQEAgY29uZmlnIFZEUEFf
U0lNX0JMT0NLCj4gPiAgICAgICAgIHZEUEEgYmxvY2sgZGV2aWNlIHNpbXVsYXRvciB3aGljaCB0
ZXJtaW5hdGVzIElPIHJlcXVlc3QgaW4gYQo+ID4gICAgICAgICBtZW1vcnkgYnVmZmVyLgo+ID4K
PiA+ICtjb25maWcgVkRQQV9VU0VSCj4gPiArICAgICB0cmlzdGF0ZSAiVkRVU0UgKHZEUEEgRGV2
aWNlIGluIFVzZXJzcGFjZSkgc3VwcG9ydCIKPiA+ICsgICAgIGRlcGVuZHMgb24gRVZFTlRGRCAm
JiBNTVUgJiYgSEFTX0RNQQo+ID4gKyAgICAgc2VsZWN0IERNQV9PUFMKPiA+ICsgICAgIHNlbGVj
dCBWSE9TVF9JT1RMQgo+ID4gKyAgICAgc2VsZWN0IElPTU1VX0lPVkEKPiA+ICsgICAgIGhlbHAK
PiA+ICsgICAgICAgV2l0aCBWRFVTRSBpdCBpcyBwb3NzaWJsZSB0byBlbXVsYXRlIGEgdkRQQSBE
ZXZpY2UKPiA+ICsgICAgICAgaW4gYSB1c2Vyc3BhY2UgcHJvZ3JhbS4KPiA+ICsKPiA+ICAgY29u
ZmlnIElGQ1ZGCj4gPiAgICAgICB0cmlzdGF0ZSAiSW50ZWwgSUZDIFZGIHZEUEEgZHJpdmVyIgo+
ID4gICAgICAgZGVwZW5kcyBvbiBQQ0lfTVNJCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZHBh
L01ha2VmaWxlIGIvZHJpdmVycy92ZHBhL01ha2VmaWxlCj4gPiBpbmRleCA2N2ZlN2YzZDY5NDMu
LmYwMmViZWQzM2YxOSAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvdmRwYS9NYWtlZmlsZQo+ID4g
KysrIGIvZHJpdmVycy92ZHBhL01ha2VmaWxlCj4gPiBAQCAtMSw2ICsxLDcgQEAKPiA+ICAgIyBT
UERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAo+ID4gICBvYmotJChDT05GSUdfVkRQQSkg
Kz0gdmRwYS5vCj4gPiAgIG9iai0kKENPTkZJR19WRFBBX1NJTSkgKz0gdmRwYV9zaW0vCj4gPiAr
b2JqLSQoQ09ORklHX1ZEUEFfVVNFUikgKz0gdmRwYV91c2VyLwo+ID4gICBvYmotJChDT05GSUdf
SUZDVkYpICAgICs9IGlmY3ZmLwo+ID4gICBvYmotJChDT05GSUdfTUxYNV9WRFBBKSArPSBtbHg1
Lwo+ID4gICBvYmotJChDT05GSUdfVlBfVkRQQSkgICAgKz0gdmlydGlvX3BjaS8KPiA+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL3ZkcGEvdmRwYV91c2VyL01ha2VmaWxlIGIvZHJpdmVycy92ZHBhL3Zk
cGFfdXNlci9NYWtlZmlsZQo+ID4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiA+IGluZGV4IDAwMDAw
MDAwMDAwMC4uMjYwZTBiMjZhZjk5Cj4gPiAtLS0gL2Rldi9udWxsCj4gPiArKysgYi9kcml2ZXJz
L3ZkcGEvdmRwYV91c2VyL01ha2VmaWxlCj4gPiBAQCAtMCwwICsxLDUgQEAKPiA+ICsjIFNQRFgt
TGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCj4gPiArCj4gPiArdmR1c2UteSA6PSB2ZHVzZV9k
ZXYubyBpb3ZhX2RvbWFpbi5vCj4gPiArCj4gPiArb2JqLSQoQ09ORklHX1ZEUEFfVVNFUikgKz0g
dmR1c2Uubwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRwYS92ZHBhX3VzZXIvdmR1c2VfZGV2
LmMgYi9kcml2ZXJzL3ZkcGEvdmRwYV91c2VyL3ZkdXNlX2Rldi5jCj4gPiBuZXcgZmlsZSBtb2Rl
IDEwMDY0NAo+ID4gaW5kZXggMDAwMDAwMDAwMDAwLi41MjcxY2JkMTVlMjgKPiA+IC0tLSAvZGV2
L251bGwKPiA+ICsrKyBiL2RyaXZlcnMvdmRwYS92ZHBhX3VzZXIvdmR1c2VfZGV2LmMKPiA+IEBA
IC0wLDAgKzEsMTQ1MyBAQAo+ID4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4w
LW9ubHkKPiA+ICsvKgo+ID4gKyAqIFZEVVNFOiB2RFBBIERldmljZSBpbiBVc2Vyc3BhY2UKPiA+
ICsgKgo+ID4gKyAqIENvcHlyaWdodCAoQykgMjAyMC0yMDIxIEJ5dGVkYW5jZSBJbmMuIGFuZC9v
ciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KPiA+ICsgKgo+ID4gKyAqIEF1
dGhvcjogWGllIFlvbmdqaSA8eGlleW9uZ2ppQGJ5dGVkYW5jZS5jb20+Cj4gPiArICoKPiA+ICsg
Ki8KPiA+ICsKPiA+ICsjaW5jbHVkZSA8bGludXgvaW5pdC5oPgo+ID4gKyNpbmNsdWRlIDxsaW51
eC9tb2R1bGUuaD4KPiA+ICsjaW5jbHVkZSA8bGludXgvY2Rldi5oPgo+ID4gKyNpbmNsdWRlIDxs
aW51eC9kZXZpY2UuaD4KPiA+ICsjaW5jbHVkZSA8bGludXgvZXZlbnRmZC5oPgo+ID4gKyNpbmNs
dWRlIDxsaW51eC9zbGFiLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L3dhaXQuaD4KPiA+ICsjaW5j
bHVkZSA8bGludXgvZG1hLW1hcC1vcHMuaD4KPiA+ICsjaW5jbHVkZSA8bGludXgvcG9sbC5oPgo+
ID4gKyNpbmNsdWRlIDxsaW51eC9maWxlLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L3Vpby5oPgo+
ID4gKyNpbmNsdWRlIDxsaW51eC92ZHBhLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L25vc3BlYy5o
Pgo+ID4gKyNpbmNsdWRlIDx1YXBpL2xpbnV4L3ZkdXNlLmg+Cj4gPiArI2luY2x1ZGUgPHVhcGkv
bGludXgvdmRwYS5oPgo+ID4gKyNpbmNsdWRlIDx1YXBpL2xpbnV4L3ZpcnRpb19jb25maWcuaD4K
PiA+ICsjaW5jbHVkZSA8dWFwaS9saW51eC92aXJ0aW9faWRzLmg+Cj4gPiArI2luY2x1ZGUgPHVh
cGkvbGludXgvdmlydGlvX2Jsay5oPgo+ID4gKyNpbmNsdWRlIDxsaW51eC9tb2RfZGV2aWNldGFi
bGUuaD4KPiA+ICsKPiA+ICsjaW5jbHVkZSAiaW92YV9kb21haW4uaCIKPiA+ICsKPiA+ICsjZGVm
aW5lIERSVl9BVVRIT1IgICAiWW9uZ2ppIFhpZSA8eGlleW9uZ2ppQGJ5dGVkYW5jZS5jb20+Igo+
ID4gKyNkZWZpbmUgRFJWX0RFU0MgICAgICJ2RFBBIERldmljZSBpbiBVc2Vyc3BhY2UiCj4gPiAr
I2RlZmluZSBEUlZfTElDRU5TRSAgIkdQTCB2MiIKPiA+ICsKPiA+ICsjZGVmaW5lIFZEVVNFX0RF
Vl9NQVggKDFVIDw8IE1JTk9SQklUUykKPiA+ICsjZGVmaW5lIFZEVVNFX01BWF9CT1VOQ0VfU0la
RSAoNjQgKiAxMDI0ICogMTAyNCkKPiA+ICsjZGVmaW5lIFZEVVNFX0lPVkFfU0laRSAoMTI4ICog
MTAyNCAqIDEwMjQpCj4gPiArI2RlZmluZSBWRFVTRV9SRVFVRVNUX1RJTUVPVVQgMzAKPiA+ICsK
PiA+ICtzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlIHsKPiA+ICsgICAgIHUxNiBpbmRleDsKPiA+ICsg
ICAgIHUzMiBudW07Cj4gPiArICAgICB1MzIgYXZhaWxfaWR4Owo+ID4gKyAgICAgdTY0IGRlc2Nf
YWRkcjsKPiA+ICsgICAgIHU2NCBkcml2ZXJfYWRkcjsKPiA+ICsgICAgIHU2NCBkZXZpY2VfYWRk
cjsKPiA+ICsgICAgIGJvb2wgcmVhZHk7Cj4gPiArICAgICBib29sIGtpY2tlZDsKPiA+ICsgICAg
IHNwaW5sb2NrX3Qga2lja19sb2NrOwo+ID4gKyAgICAgc3BpbmxvY2tfdCBpcnFfbG9jazsKPiA+
ICsgICAgIHN0cnVjdCBldmVudGZkX2N0eCAqa2lja2ZkOwo+ID4gKyAgICAgc3RydWN0IHZkcGFf
Y2FsbGJhY2sgY2I7Cj4gPiArICAgICBzdHJ1Y3Qgd29ya19zdHJ1Y3QgaW5qZWN0Owo+ID4gK307
Cj4gPiArCj4gPiArc3RydWN0IHZkdXNlX2RldjsKPiA+ICsKPiA+ICtzdHJ1Y3QgdmR1c2VfdmRw
YSB7Cj4gPiArICAgICBzdHJ1Y3QgdmRwYV9kZXZpY2UgdmRwYTsKPiA+ICsgICAgIHN0cnVjdCB2
ZHVzZV9kZXYgKmRldjsKPiA+ICt9Owo+ID4gKwo+ID4gK3N0cnVjdCB2ZHVzZV9kZXYgewo+ID4g
KyAgICAgc3RydWN0IHZkdXNlX3ZkcGEgKnZkZXY7Cj4gPiArICAgICBzdHJ1Y3QgZGV2aWNlICpk
ZXY7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlICp2cXM7Cj4gPiArICAgICBzdHJ1
Y3QgdmR1c2VfaW92YV9kb21haW4gKmRvbWFpbjsKPiA+ICsgICAgIGNoYXIgKm5hbWU7Cj4gPiAr
ICAgICBzdHJ1Y3QgbXV0ZXggbG9jazsKPiA+ICsgICAgIHNwaW5sb2NrX3QgbXNnX2xvY2s7Cj4g
PiArICAgICB1NjQgbXNnX3VuaXF1ZTsKPiA+ICsgICAgIHdhaXRfcXVldWVfaGVhZF90IHdhaXRx
Owo+ID4gKyAgICAgc3RydWN0IGxpc3RfaGVhZCBzZW5kX2xpc3Q7Cj4gPiArICAgICBzdHJ1Y3Qg
bGlzdF9oZWFkIHJlY3ZfbGlzdDsKPiA+ICsgICAgIHN0cnVjdCB2ZHBhX2NhbGxiYWNrIGNvbmZp
Z19jYjsKPiA+ICsgICAgIHN0cnVjdCB3b3JrX3N0cnVjdCBpbmplY3Q7Cj4gPiArICAgICBzcGlu
bG9ja190IGlycV9sb2NrOwo+ID4gKyAgICAgaW50IG1pbm9yOwo+ID4gKyAgICAgYm9vbCBjb25u
ZWN0ZWQ7Cj4gPiArICAgICBib29sIHN0YXJ0ZWQ7Cj4gPiArICAgICB1NjQgYXBpX3ZlcnNpb247
Cj4gPiArICAgICB1NjQgdXNlcl9mZWF0dXJlczsKPgo+Cj4gTGV0J3MgdXNlIGRldmljZV9mZWF0
dXJlcy4KPgoKT0suCgo+Cj4gPiArICAgICB1NjQgZmVhdHVyZXM7Cj4KPgo+IEFuZCBkcml2ZXIg
ZmVhdHVyZXMuCj4KCk9LLgoKPgo+ID4gKyAgICAgdTMyIGRldmljZV9pZDsKPiA+ICsgICAgIHUz
MiB2ZW5kb3JfaWQ7Cj4gPiArICAgICB1MzIgZ2VuZXJhdGlvbjsKPiA+ICsgICAgIHUzMiBjb25m
aWdfc2l6ZTsKPiA+ICsgICAgIHZvaWQgKmNvbmZpZzsKPiA+ICsgICAgIHU4IHN0YXR1czsKPiA+
ICsgICAgIHUxNiB2cV9zaXplX21heDsKPiA+ICsgICAgIHUzMiB2cV9udW07Cj4gPiArICAgICB1
MzIgdnFfYWxpZ247Cj4gPiArfTsKPiA+ICsKPiA+ICtzdHJ1Y3QgdmR1c2VfZGV2X21zZyB7Cj4g
PiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2X3JlcXVlc3QgcmVxOwo+ID4gKyAgICAgc3RydWN0IHZk
dXNlX2Rldl9yZXNwb25zZSByZXNwOwo+ID4gKyAgICAgc3RydWN0IGxpc3RfaGVhZCBsaXN0Owo+
ID4gKyAgICAgd2FpdF9xdWV1ZV9oZWFkX3Qgd2FpdHE7Cj4gPiArICAgICBib29sIGNvbXBsZXRl
ZDsKPiA+ICt9Owo+ID4gKwo+ID4gK3N0cnVjdCB2ZHVzZV9jb250cm9sIHsKPiA+ICsgICAgIHU2
NCBhcGlfdmVyc2lvbjsKPiA+ICt9Owo+ID4gKwo+ID4gK3N0YXRpYyBERUZJTkVfTVVURVgodmR1
c2VfbG9jayk7Cj4gPiArc3RhdGljIERFRklORV9JRFIodmR1c2VfaWRyKTsKPiA+ICsKPiA+ICtz
dGF0aWMgZGV2X3QgdmR1c2VfbWFqb3I7Cj4gPiArc3RhdGljIHN0cnVjdCBjbGFzcyAqdmR1c2Vf
Y2xhc3M7Cj4gPiArc3RhdGljIHN0cnVjdCBjZGV2IHZkdXNlX2N0cmxfY2RldjsKPiA+ICtzdGF0
aWMgc3RydWN0IGNkZXYgdmR1c2VfY2RldjsKPiA+ICtzdGF0aWMgc3RydWN0IHdvcmtxdWV1ZV9z
dHJ1Y3QgKnZkdXNlX2lycV93cTsKPiA+ICsKPiA+ICtzdGF0aWMgdTMyIGFsbG93ZWRfZGV2aWNl
X2lkW10gPSB7Cj4gPiArICAgICBWSVJUSU9fSURfQkxPQ0ssCj4gPiArfTsKPiA+ICsKPiA+ICtz
dGF0aWMgaW5saW5lIHN0cnVjdCB2ZHVzZV9kZXYgKnZkcGFfdG9fdmR1c2Uoc3RydWN0IHZkcGFf
ZGV2aWNlICp2ZHBhKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV92ZHBhICp2ZGV2ID0g
Y29udGFpbmVyX29mKHZkcGEsIHN0cnVjdCB2ZHVzZV92ZHBhLCB2ZHBhKTsKPiA+ICsKPiA+ICsg
ICAgIHJldHVybiB2ZGV2LT5kZXY7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyBpbmxpbmUgc3Ry
dWN0IHZkdXNlX2RldiAqZGV2X3RvX3ZkdXNlKHN0cnVjdCBkZXZpY2UgKmRldikKPiA+ICt7Cj4g
PiArICAgICBzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEgPSBkZXZfdG9fdmRwYShkZXYpOwo+ID4g
Kwo+ID4gKyAgICAgcmV0dXJuIHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gPiArfQo+ID4gKwo+ID4g
K3N0YXRpYyBzdHJ1Y3QgdmR1c2VfZGV2X21zZyAqdmR1c2VfZmluZF9tc2coc3RydWN0IGxpc3Rf
aGVhZCAqaGVhZCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVpbnQzMl90IHJlcXVlc3RfaWQpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2Rldl9t
c2cgKm1zZzsKPiA+ICsKPiA+ICsgICAgIGxpc3RfZm9yX2VhY2hfZW50cnkobXNnLCBoZWFkLCBs
aXN0KSB7Cj4gPiArICAgICAgICAgICAgIGlmIChtc2ctPnJlcS5yZXF1ZXN0X2lkID09IHJlcXVl
c3RfaWQpIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBsaXN0X2RlbCgmbXNnLT5saXN0KTsK
PiA+ICsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNnOwo+ID4gKyAgICAgICAgICAgICB9
Cj4gPiArICAgICB9Cj4gPiArCj4gPiArICAgICByZXR1cm4gTlVMTDsKPiA+ICt9Cj4gPiArCj4g
PiArc3RhdGljIHN0cnVjdCB2ZHVzZV9kZXZfbXNnICp2ZHVzZV9kZXF1ZXVlX21zZyhzdHJ1Y3Qg
bGlzdF9oZWFkICpoZWFkKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXZfbXNnICpt
c2cgPSBOVUxMOwo+ID4gKwo+ID4gKyAgICAgaWYgKCFsaXN0X2VtcHR5KGhlYWQpKSB7Cj4gPiAr
ICAgICAgICAgICAgIG1zZyA9IGxpc3RfZmlyc3RfZW50cnkoaGVhZCwgc3RydWN0IHZkdXNlX2Rl
dl9tc2csIGxpc3QpOwo+ID4gKyAgICAgICAgICAgICBsaXN0X2RlbCgmbXNnLT5saXN0KTsKPiA+
ICsgICAgIH0KPiA+ICsKPiA+ICsgICAgIHJldHVybiBtc2c7Cj4gPiArfQo+ID4gKwo+ID4gK3N0
YXRpYyB2b2lkIHZkdXNlX2VucXVldWVfbXNnKHN0cnVjdCBsaXN0X2hlYWQgKmhlYWQsCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHZkdXNlX2Rldl9tc2cgKm1zZykKPiA+
ICt7Cj4gPiArICAgICBsaXN0X2FkZF90YWlsKCZtc2ctPmxpc3QsIGhlYWQpOwo+ID4gK30KPiA+
ICsKPiA+ICtzdGF0aWMgaW50IHZkdXNlX2Rldl9tc2dfc2VuZChzdHJ1Y3QgdmR1c2VfZGV2ICpk
ZXYsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHZkdXNlX2Rldl9tc2cg
Km1zZywgYm9vbCBub19yZXBseSkKPiA+ICt7Cj4KPgo+IEl0IGxvb2tzIHRvIG1lIHRoZSBvbmx5
IHVzZXIgZm9yIG5vX3JlcGx5PXRydWUgaXMgdGhlIGRhdGFwbGFuZSBzdGFydC4gSQo+IHdvbmRl
ciBub19yZXBseSBpcyByZWFsbHkgbmVlZGVkIGNvbnNpZGVyIHdlIGhhdmUgc3dpdGNoZWQgdG8g
dXNlCj4gd2FpdF9ldmVudF9raWxsYWJsZV90aW1lb3V0KCkuCj4KCkRvIHdlIG5lZWQgdG8gaGFu
ZGxlIHRoZSBlcnJvciBpbiB0aGlzIGNhc2UgaWYgd2UgcmVtb3ZlIHRoZSBub19yZXBseQpmbGFn
LiBQcmludCBhIHdhcm5pbmcgbWVzc2FnZT8KCj4gSW4gYW5vdGhlciB3YXksIG5vX3JlcGx5IGlz
IGZhbHNlIGZvciB2cSBzdGF0ZSBzeW5jaHJvbml6YXRpb24gYW5kIElPVExCCj4gdXBkYXRpbmcu
IEkgd29uZGVyIGlmIHdlIGNhbiBzaW1wbHkgdXNlIG5vX3JlcGx5ID0gdHJ1ZSBmb3IgdGhlbS4K
PgoKTG9va3MgbGlrZSB3ZSBjYW4ndCwgZS5nLiB3ZSBuZWVkIHRvIGdldCBhIHJlcGx5IGZyb20g
dXNlcnNwYWNlIGZvciB2cSBzdGF0ZS4KCj4KPiA+ICsgICAgIGluaXRfd2FpdHF1ZXVlX2hlYWQo
Jm1zZy0+d2FpdHEpOwo+ID4gKyAgICAgc3Bpbl9sb2NrKCZkZXYtPm1zZ19sb2NrKTsKPiA+ICsg
ICAgIG1zZy0+cmVxLnJlcXVlc3RfaWQgPSBkZXYtPm1zZ191bmlxdWUrKzsKPiA+ICsgICAgIHZk
dXNlX2VucXVldWVfbXNnKCZkZXYtPnNlbmRfbGlzdCwgbXNnKTsKPiA+ICsgICAgIHdha2VfdXAo
JmRldi0+d2FpdHEpOwo+ID4gKyAgICAgc3Bpbl91bmxvY2soJmRldi0+bXNnX2xvY2spOwo+ID4g
KyAgICAgaWYgKG5vX3JlcGx5KQo+ID4gKyAgICAgICAgICAgICByZXR1cm4gMDsKPiA+ICsKPiA+
ICsgICAgIHdhaXRfZXZlbnRfa2lsbGFibGVfdGltZW91dChtc2ctPndhaXRxLCBtc2ctPmNvbXBs
ZXRlZCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWRFVTRV9SRVFVRVNU
X1RJTUVPVVQgKiBIWik7Cj4gPiArICAgICBzcGluX2xvY2soJmRldi0+bXNnX2xvY2spOwo+ID4g
KyAgICAgaWYgKCFtc2ctPmNvbXBsZXRlZCkgewo+ID4gKyAgICAgICAgICAgICBsaXN0X2RlbCgm
bXNnLT5saXN0KTsKPiA+ICsgICAgICAgICAgICAgbXNnLT5yZXNwLnJlc3VsdCA9IFZEVVNFX1JF
UV9SRVNVTFRfRkFJTEVEOwo+ID4gKyAgICAgfQo+ID4gKyAgICAgc3Bpbl91bmxvY2soJmRldi0+
bXNnX2xvY2spOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIChtc2ctPnJlc3AucmVzdWx0ID09IFZE
VVNFX1JFUV9SRVNVTFRfT0spID8gMCA6IC1FSU87Cj4KPgo+IERvIHdlIG5lZWQgdG8gc2VyaWFs
aXplIHRoZSBjaGVjayBieSBwcm90ZWN0aW5nIGl0IHdpdGggdGhlIHNwaW5sb2NrIGFib3ZlPwo+
CgpHb29kIHBvaW50LgoKPgo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB2ZHVzZV9kZXZf
bXNnX2NsZWFudXAoc3RydWN0IHZkdXNlX2RldiAqZGV2KQo+ID4gK3sKPiA+ICsgICAgIHN0cnVj
dCB2ZHVzZV9kZXZfbXNnICptc2c7Cj4gPiArCj4gPiArICAgICBzcGluX2xvY2soJmRldi0+bXNn
X2xvY2spOwo+ID4gKyAgICAgd2hpbGUgKChtc2cgPSB2ZHVzZV9kZXF1ZXVlX21zZygmZGV2LT5z
ZW5kX2xpc3QpKSkgewo+ID4gKyAgICAgICAgICAgICBpZiAobXNnLT5yZXEuZmxhZ3MgJiBWRFVT
RV9SRVFfRkxBR1NfTk9fUkVQTFkpCj4gPiArICAgICAgICAgICAgICAgICAgICAga2ZyZWUobXNn
KTsKPiA+ICsgICAgICAgICAgICAgZWxzZQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIHZkdXNl
X2VucXVldWVfbXNnKCZkZXYtPnJlY3ZfbGlzdCwgbXNnKTsKPiA+ICsgICAgIH0KPiA+ICsgICAg
IHdoaWxlICgobXNnID0gdmR1c2VfZGVxdWV1ZV9tc2coJmRldi0+cmVjdl9saXN0KSkpIHsKPiA+
ICsgICAgICAgICAgICAgbXNnLT5yZXNwLnJlc3VsdCA9IFZEVVNFX1JFUV9SRVNVTFRfRkFJTEVE
Owo+ID4gKyAgICAgICAgICAgICBtc2ctPmNvbXBsZXRlZCA9IDE7Cj4gPiArICAgICAgICAgICAg
IHdha2VfdXAoJm1zZy0+d2FpdHEpOwo+ID4gKyAgICAgfQo+ID4gKyAgICAgc3Bpbl91bmxvY2so
JmRldi0+bXNnX2xvY2spOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB2ZHVzZV9kZXZf
c3RhcnRfZGF0YXBsYW5lKHN0cnVjdCB2ZHVzZV9kZXYgKmRldikKPiA+ICt7Cj4gPiArICAgICBz
dHJ1Y3QgdmR1c2VfZGV2X21zZyAqbXNnID0ga3phbGxvYyhzaXplb2YoKm1zZyksCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHRlBfS0VSTkVMIHwgX19HRlBf
Tk9GQUlMKTsKPiA+ICsKPiA+ICsgICAgIG1zZy0+cmVxLnR5cGUgPSBWRFVTRV9TVEFSVF9EQVRB
UExBTkU7Cj4gPiArICAgICBtc2ctPnJlcS5mbGFncyB8PSBWRFVTRV9SRVFfRkxBR1NfTk9fUkVQ
TFk7Cj4gPiArICAgICB2ZHVzZV9kZXZfbXNnX3NlbmQoZGV2LCBtc2csIHRydWUpOwo+ID4gK30K
PiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB2ZHVzZV9kZXZfc3RvcF9kYXRhcGxhbmUoc3RydWN0IHZk
dXNlX2RldiAqZGV2KQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXZfbXNnICptc2cg
PSBremFsbG9jKHNpemVvZigqbXNnKSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIEdGUF9LRVJORUwgfCBfX0dGUF9OT0ZBSUwpOwo+ID4gKwo+ID4gKyAgICAg
bXNnLT5yZXEudHlwZSA9IFZEVVNFX1NUT1BfREFUQVBMQU5FOwo+ID4gKyAgICAgbXNnLT5yZXEu
ZmxhZ3MgfD0gVkRVU0VfUkVRX0ZMQUdTX05PX1JFUExZOwo+Cj4KPiBDYW4gd2Ugc2ltcGx5IHVz
ZSB0aGlzIGZsYWcgaW5zdGVhZCBvZiBpbnRyb2R1Y2luZyBhIG5ldyBwYXJhbWV0ZXIKPiAobm9f
cmVwbHkpIGluIHZkdXNlX2Rldl9tc2dfc2VuZCgpPwo+CgpMb29rcyBnb29kIHRvIG1lLgoKPgo+
ID4gKyAgICAgdmR1c2VfZGV2X21zZ19zZW5kKGRldiwgbXNnLCB0cnVlKTsKPiA+ICt9Cj4gPiAr
Cj4gPiArc3RhdGljIGludCB2ZHVzZV9kZXZfZ2V0X3ZxX3N0YXRlKHN0cnVjdCB2ZHVzZV9kZXYg
KmRldiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHZkdXNlX3Zp
cnRxdWV1ZSAqdnEsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB2
ZHBhX3ZxX3N0YXRlICpzdGF0ZSkKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2X21z
ZyBtc2cgPSB7IDAgfTsKPiA+ICsgICAgIGludCByZXQ7Cj4KPgo+IE5vdGUgdGhhdCBJIHBvc3Qg
YSBzZXJpZXMgdGhhdCBpbXBsZW1lbnQgdGhlIHBhY2tlZCB2aXJ0cXVldWUgc3VwcG9ydDoKPgo+
IGh0dHBzOi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9waXBlcm1haWwvdmlydHVhbGl6YXRp
b24vMjAyMS1KdW5lLzA1NDUwMS5odG1sCj4KPiBTbyB0aGlzIHBhdGNoIG5lZWRzIHRvIGJlIHVw
ZGF0ZWQgYXMgd2VsbC4KPgoKV2lsbCBkbyBpdC4KCj4KPiA+ICsKPiA+ICsgICAgIG1zZy5yZXEu
dHlwZSA9IFZEVVNFX0dFVF9WUV9TVEFURTsKPiA+ICsgICAgIG1zZy5yZXEudnFfc3RhdGUuaW5k
ZXggPSB2cS0+aW5kZXg7Cj4gPiArCj4gPiArICAgICByZXQgPSB2ZHVzZV9kZXZfbXNnX3NlbmQo
ZGV2LCAmbXNnLCBmYWxzZSk7Cj4gPiArICAgICBpZiAocmV0KQo+ID4gKyAgICAgICAgICAgICBy
ZXR1cm4gcmV0Owo+ID4gKwo+ID4gKyAgICAgc3RhdGUtPmF2YWlsX2luZGV4ID0gbXNnLnJlc3Au
dnFfc3RhdGUuYXZhaWxfaWR4Owo+ID4gKyAgICAgcmV0dXJuIDA7Cj4gPiArfQo+ID4gKwo+ID4g
K3N0YXRpYyBpbnQgdmR1c2VfZGV2X3VwZGF0ZV9pb3RsYihzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYs
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1NjQgc3RhcnQsIHU2NCBsYXN0KQo+
ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXZfbXNnIG1zZyA9IHsgMCB9Owo+ID4gKwo+
ID4gKyAgICAgaWYgKGxhc3QgPCBzdGFydCkKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIC1FSU5W
QUw7Cj4gPiArCj4gPiArICAgICBtc2cucmVxLnR5cGUgPSBWRFVTRV9VUERBVEVfSU9UTEI7Cj4g
PiArICAgICBtc2cucmVxLmlvdmEuc3RhcnQgPSBzdGFydDsKPiA+ICsgICAgIG1zZy5yZXEuaW92
YS5sYXN0ID0gbGFzdDsKPiA+ICsKPiA+ICsgICAgIHJldHVybiB2ZHVzZV9kZXZfbXNnX3NlbmQo
ZGV2LCAmbXNnLCBmYWxzZSk7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyBzc2l6ZV90IHZkdXNl
X2Rldl9yZWFkX2l0ZXIoc3RydWN0IGtpb2NiICppb2NiLCBzdHJ1Y3QgaW92X2l0ZXIgKnRvKQo+
ID4gK3sKPiA+ICsgICAgIHN0cnVjdCBmaWxlICpmaWxlID0gaW9jYi0+a2lfZmlscDsKPiA+ICsg
ICAgIHN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IGZpbGUtPnByaXZhdGVfZGF0YTsKPiA+ICsgICAg
IHN0cnVjdCB2ZHVzZV9kZXZfbXNnICptc2c7Cj4gPiArICAgICBpbnQgc2l6ZSA9IHNpemVvZihz
dHJ1Y3QgdmR1c2VfZGV2X3JlcXVlc3QpOwo+ID4gKyAgICAgc3NpemVfdCByZXQ7Cj4gPiArCj4g
PiArICAgICBpZiAoaW92X2l0ZXJfY291bnQodG8pIDwgc2l6ZSkKPiA+ICsgICAgICAgICAgICAg
cmV0dXJuIC1FSU5WQUw7Cj4gPiArCj4gPiArICAgICBzcGluX2xvY2soJmRldi0+bXNnX2xvY2sp
Owo+ID4gKyAgICAgd2hpbGUgKDEpIHsKPiA+ICsgICAgICAgICAgICAgbXNnID0gdmR1c2VfZGVx
dWV1ZV9tc2coJmRldi0+c2VuZF9saXN0KTsKPiA+ICsgICAgICAgICAgICAgaWYgKG1zZykKPiA+
ICsgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgcmV0
ID0gLUVBR0FJTjsKPiA+ICsgICAgICAgICAgICAgaWYgKGZpbGUtPmZfZmxhZ3MgJiBPX05PTkJM
T0NLKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGdvdG8gdW5sb2NrOwo+ID4gKwo+ID4gKyAg
ICAgICAgICAgICBzcGluX3VubG9jaygmZGV2LT5tc2dfbG9jayk7Cj4gPiArICAgICAgICAgICAg
IHJldCA9IHdhaXRfZXZlbnRfaW50ZXJydXB0aWJsZV9leGNsdXNpdmUoZGV2LT53YWl0cSwKPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWxpc3RfZW1wdHkoJmRldi0+
c2VuZF9saXN0KSk7Cj4gPiArICAgICAgICAgICAgIGlmIChyZXQpCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIHJldDsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgc3Bpbl9sb2NrKCZk
ZXYtPm1zZ19sb2NrKTsKPiA+ICsgICAgIH0KPiA+ICsgICAgIHNwaW5fdW5sb2NrKCZkZXYtPm1z
Z19sb2NrKTsKPiA+ICsgICAgIHJldCA9IGNvcHlfdG9faXRlcigmbXNnLT5yZXEsIHNpemUsIHRv
KTsKPiA+ICsgICAgIHNwaW5fbG9jaygmZGV2LT5tc2dfbG9jayk7Cj4gPiArICAgICBpZiAocmV0
ICE9IHNpemUpIHsKPiA+ICsgICAgICAgICAgICAgcmV0ID0gLUVGQVVMVDsKPiA+ICsgICAgICAg
ICAgICAgdmR1c2VfZW5xdWV1ZV9tc2coJmRldi0+c2VuZF9saXN0LCBtc2cpOwo+ID4gKyAgICAg
ICAgICAgICBnb3RvIHVubG9jazsKPiA+ICsgICAgIH0KPiA+ICsgICAgIGlmIChtc2ctPnJlcS5m
bGFncyAmIFZEVVNFX1JFUV9GTEFHU19OT19SRVBMWSkKPiA+ICsgICAgICAgICAgICAga2ZyZWUo
bXNnKTsKPiA+ICsgICAgIGVsc2UKPiA+ICsgICAgICAgICAgICAgdmR1c2VfZW5xdWV1ZV9tc2co
JmRldi0+cmVjdl9saXN0LCBtc2cpOwo+ID4gK3VubG9jazoKPiA+ICsgICAgIHNwaW5fdW5sb2Nr
KCZkZXYtPm1zZ19sb2NrKTsKPiA+ICsKPiA+ICsgICAgIHJldHVybiByZXQ7Cj4gPiArfQo+ID4g
Kwo+ID4gK3N0YXRpYyBzc2l6ZV90IHZkdXNlX2Rldl93cml0ZV9pdGVyKHN0cnVjdCBraW9jYiAq
aW9jYiwgc3RydWN0IGlvdl9pdGVyICpmcm9tKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCBmaWxl
ICpmaWxlID0gaW9jYi0+a2lfZmlscDsKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9
IGZpbGUtPnByaXZhdGVfZGF0YTsKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXZfcmVzcG9uc2Ug
cmVzcDsKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXZfbXNnICptc2c7Cj4gPiArICAgICBzaXpl
X3QgcmV0Owo+ID4gKwo+ID4gKyAgICAgcmV0ID0gY29weV9mcm9tX2l0ZXIoJnJlc3AsIHNpemVv
ZihyZXNwKSwgZnJvbSk7Cj4gPiArICAgICBpZiAocmV0ICE9IHNpemVvZihyZXNwKSkKPiA+ICsg
ICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArCj4gPiArICAgICBzcGluX2xvY2soJmRl
di0+bXNnX2xvY2spOwo+ID4gKyAgICAgbXNnID0gdmR1c2VfZmluZF9tc2coJmRldi0+cmVjdl9s
aXN0LCByZXNwLnJlcXVlc3RfaWQpOwo+ID4gKyAgICAgaWYgKCFtc2cpIHsKPiA+ICsgICAgICAg
ICAgICAgcmV0ID0gLUVOT0VOVDsKPiA+ICsgICAgICAgICAgICAgZ290byB1bmxvY2s7Cj4gPiAr
ICAgICB9Cj4gPiArCj4gPiArICAgICBtZW1jcHkoJm1zZy0+cmVzcCwgJnJlc3AsIHNpemVvZihy
ZXNwKSk7Cj4gPiArICAgICBtc2ctPmNvbXBsZXRlZCA9IDE7Cj4gPiArICAgICB3YWtlX3VwKCZt
c2ctPndhaXRxKTsKPiA+ICt1bmxvY2s6Cj4gPiArICAgICBzcGluX3VubG9jaygmZGV2LT5tc2df
bG9jayk7Cj4gPiArCj4gPiArICAgICByZXR1cm4gcmV0Owo+ID4gK30KPiA+ICsKPiA+ICtzdGF0
aWMgX19wb2xsX3QgdmR1c2VfZGV2X3BvbGwoc3RydWN0IGZpbGUgKmZpbGUsIHBvbGxfdGFibGUg
KndhaXQpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gZmlsZS0+cHJp
dmF0ZV9kYXRhOwo+ID4gKyAgICAgX19wb2xsX3QgbWFzayA9IDA7Cj4gPiArCj4gPiArICAgICBw
b2xsX3dhaXQoZmlsZSwgJmRldi0+d2FpdHEsIHdhaXQpOwo+ID4gKwo+ID4gKyAgICAgaWYgKCFs
aXN0X2VtcHR5KCZkZXYtPnNlbmRfbGlzdCkpCj4gPiArICAgICAgICAgICAgIG1hc2sgfD0gRVBP
TExJTiB8IEVQT0xMUkROT1JNOwo+ID4gKyAgICAgaWYgKCFsaXN0X2VtcHR5KCZkZXYtPnJlY3Zf
bGlzdCkpCj4gPiArICAgICAgICAgICAgIG1hc2sgfD0gRVBPTExPVVQgfCBFUE9MTFdSTk9STTsK
PiA+ICsKPiA+ICsgICAgIHJldHVybiBtYXNrOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9p
ZCB2ZHVzZV9kZXZfcmVzZXQoc3RydWN0IHZkdXNlX2RldiAqZGV2KQo+ID4gK3sKPiA+ICsgICAg
IGludCBpOwo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2lvdmFfZG9tYWluICpkb21haW4gPSBkZXYt
PmRvbWFpbjsKPiA+ICsKPiA+ICsgICAgIC8qIFRoZSBjb2hlcmVudCBtYXBwaW5ncyBhcmUgaGFu
ZGxlZCBpbiB2ZHVzZV9kZXZfZnJlZV9jb2hlcmVudCgpICovCj4gPiArICAgICBpZiAoZG9tYWlu
LT5ib3VuY2VfbWFwKQo+ID4gKyAgICAgICAgICAgICB2ZHVzZV9kb21haW5fcmVzZXRfYm91bmNl
X21hcChkb21haW4pOwo+ID4gKwo+ID4gKyAgICAgZGV2LT5mZWF0dXJlcyA9IDA7Cj4gPiArICAg
ICBkZXYtPmdlbmVyYXRpb24rKzsKPiA+ICsgICAgIHNwaW5fbG9jaygmZGV2LT5pcnFfbG9jayk7
Cj4gPiArICAgICBkZXYtPmNvbmZpZ19jYi5jYWxsYmFjayA9IE5VTEw7Cj4gPiArICAgICBkZXYt
PmNvbmZpZ19jYi5wcml2YXRlID0gTlVMTDsKPiA+ICsgICAgIHNwaW5fdW5sb2NrKCZkZXYtPmly
cV9sb2NrKTsKPiA+ICsKPiA+ICsgICAgIGZvciAoaSA9IDA7IGkgPCBkZXYtPnZxX251bTsgaSsr
KSB7Cj4gPiArICAgICAgICAgICAgIHN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gJmRldi0+
dnFzW2ldOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICB2cS0+cmVhZHkgPSBmYWxzZTsKPiA+ICsg
ICAgICAgICAgICAgdnEtPmRlc2NfYWRkciA9IDA7Cj4gPiArICAgICAgICAgICAgIHZxLT5kcml2
ZXJfYWRkciA9IDA7Cj4gPiArICAgICAgICAgICAgIHZxLT5kZXZpY2VfYWRkciA9IDA7Cj4gPiAr
ICAgICAgICAgICAgIHZxLT5hdmFpbF9pZHggPSAwOwo+ID4gKyAgICAgICAgICAgICB2cS0+bnVt
ID0gMDsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgc3Bpbl9sb2NrKCZ2cS0+a2lja19sb2NrKTsK
PiA+ICsgICAgICAgICAgICAgdnEtPmtpY2tlZCA9IGZhbHNlOwo+ID4gKyAgICAgICAgICAgICBp
ZiAodnEtPmtpY2tmZCkKPiA+ICsgICAgICAgICAgICAgICAgICAgICBldmVudGZkX2N0eF9wdXQo
dnEtPmtpY2tmZCk7Cj4gPiArICAgICAgICAgICAgIHZxLT5raWNrZmQgPSBOVUxMOwo+ID4gKyAg
ICAgICAgICAgICBzcGluX3VubG9jaygmdnEtPmtpY2tfbG9jayk7Cj4gPiArCj4gPiArICAgICAg
ICAgICAgIHNwaW5fbG9jaygmdnEtPmlycV9sb2NrKTsKPiA+ICsgICAgICAgICAgICAgdnEtPmNi
LmNhbGxiYWNrID0gTlVMTDsKPiA+ICsgICAgICAgICAgICAgdnEtPmNiLnByaXZhdGUgPSBOVUxM
Owo+ID4gKyAgICAgICAgICAgICBzcGluX3VubG9jaygmdnEtPmlycV9sb2NrKTsKPiA+ICsgICAg
IH0KPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGludCB2ZHVzZV92ZHBhX3NldF92cV9hZGRyZXNz
KHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSwgdTE2IGlkeCwKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHU2NCBkZXNjX2FyZWEsIHU2NCBkcml2ZXJfYXJlYSwKPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHU2NCBkZXZpY2VfYXJlYSkKPiA+ICt7Cj4gPiArICAgICBz
dHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZkcGEpOwo+ID4gKyAgICAgc3Ry
dWN0IHZkdXNlX3ZpcnRxdWV1ZSAqdnEgPSAmZGV2LT52cXNbaWR4XTsKPiA+ICsKPiA+ICsgICAg
IHZxLT5kZXNjX2FkZHIgPSBkZXNjX2FyZWE7Cj4gPiArICAgICB2cS0+ZHJpdmVyX2FkZHIgPSBk
cml2ZXJfYXJlYTsKPiA+ICsgICAgIHZxLT5kZXZpY2VfYWRkciA9IGRldmljZV9hcmVhOwo+ID4g
Kwo+ID4gKyAgICAgcmV0dXJuIDA7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkIHZkdXNl
X3ZkcGFfa2lja192cShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHUxNiBpZHgpCj4gPiArewo+
ID4gKyAgICAgc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRwYV90b192ZHVzZSh2ZHBhKTsKPiA+
ICsgICAgIHN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gJmRldi0+dnFzW2lkeF07Cj4gPiAr
Cj4gPiArICAgICBzcGluX2xvY2soJnZxLT5raWNrX2xvY2spOwo+ID4gKyAgICAgaWYgKCF2cS0+
cmVhZHkpCj4gPiArICAgICAgICAgICAgIGdvdG8gdW5sb2NrOwo+ID4gKwo+ID4gKyAgICAgaWYg
KHZxLT5raWNrZmQpCj4gPiArICAgICAgICAgICAgIGV2ZW50ZmRfc2lnbmFsKHZxLT5raWNrZmQs
IDEpOwo+ID4gKyAgICAgZWxzZQo+ID4gKyAgICAgICAgICAgICB2cS0+a2lja2VkID0gdHJ1ZTsK
PiA+ICt1bmxvY2s6Cj4gPiArICAgICBzcGluX3VubG9jaygmdnEtPmtpY2tfbG9jayk7Cj4gPiAr
fQo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkIHZkdXNlX3ZkcGFfc2V0X3ZxX2NiKHN0cnVjdCB2ZHBh
X2RldmljZSAqdmRwYSwgdTE2IGlkeCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgdmRwYV9jYWxsYmFjayAqY2IpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2Rl
diAqZGV2ID0gdmRwYV90b192ZHVzZSh2ZHBhKTsKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV92aXJ0
cXVldWUgKnZxID0gJmRldi0+dnFzW2lkeF07Cj4gPiArCj4gPiArICAgICBzcGluX2xvY2soJnZx
LT5pcnFfbG9jayk7Cj4gPiArICAgICB2cS0+Y2IuY2FsbGJhY2sgPSBjYi0+Y2FsbGJhY2s7Cj4g
PiArICAgICB2cS0+Y2IucHJpdmF0ZSA9IGNiLT5wcml2YXRlOwo+ID4gKyAgICAgc3Bpbl91bmxv
Y2soJnZxLT5pcnFfbG9jayk7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkIHZkdXNlX3Zk
cGFfc2V0X3ZxX251bShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHUxNiBpZHgsIHUzMiBudW0p
Cj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRwYV90b192ZHVzZSh2
ZHBhKTsKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gJmRldi0+dnFzW2lk
eF07Cj4gPiArCj4gPiArICAgICB2cS0+bnVtID0gbnVtOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0
aWMgdm9pZCB2ZHVzZV92ZHBhX3NldF92cV9yZWFkeShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEs
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUxNiBpZHgsIGJvb2wg
cmVhZHkpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRwYV90b192
ZHVzZSh2ZHBhKTsKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gJmRldi0+
dnFzW2lkeF07Cj4gPiArCj4gPiArICAgICB2cS0+cmVhZHkgPSByZWFkeTsKPiA+ICt9Cj4gPiAr
Cj4gPiArc3RhdGljIGJvb2wgdmR1c2VfdmRwYV9nZXRfdnFfcmVhZHkoc3RydWN0IHZkcGFfZGV2
aWNlICp2ZHBhLCB1MTYgaWR4KQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXYgKmRl
diA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVl
ICp2cSA9ICZkZXYtPnZxc1tpZHhdOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIHZxLT5yZWFkeTsK
PiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGludCB2ZHVzZV92ZHBhX3NldF92cV9zdGF0ZShzdHJ1
Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHUxNiBpZHgsCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBjb25zdCBzdHJ1Y3QgdmRwYV92cV9zdGF0ZSAqc3RhdGUpCj4gPiArewo+ID4gKyAg
ICAgc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRwYV90b192ZHVzZSh2ZHBhKTsKPiA+ICsgICAg
IHN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gJmRldi0+dnFzW2lkeF07Cj4gPiArCj4gPiAr
ICAgICB2cS0+YXZhaWxfaWR4ID0gc3RhdGUtPmF2YWlsX2luZGV4Owo+ID4gKyAgICAgcmV0dXJu
IDA7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyBpbnQgdmR1c2VfdmRwYV9nZXRfdnFfc3RhdGUo
c3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhLCB1MTYgaWR4LAo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IHZkcGFfdnFfc3RhdGUgKnN0YXRlKQo+ID4gK3sKPiA+ICsgICAg
IHN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gPiArICAgICBz
dHJ1Y3QgdmR1c2VfdmlydHF1ZXVlICp2cSA9ICZkZXYtPnZxc1tpZHhdOwo+ID4gKwo+ID4gKyAg
ICAgcmV0dXJuIHZkdXNlX2Rldl9nZXRfdnFfc3RhdGUoZGV2LCB2cSwgc3RhdGUpOwo+ID4gK30K
PiA+ICsKPiA+ICtzdGF0aWMgdTMyIHZkdXNlX3ZkcGFfZ2V0X3ZxX2FsaWduKHN0cnVjdCB2ZHBh
X2RldmljZSAqdmRwYSkKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2
ZHBhX3RvX3ZkdXNlKHZkcGEpOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIGRldi0+dnFfYWxpZ247
Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB1NjQgdmR1c2VfdmRwYV9nZXRfZmVhdHVyZXMoc3Ry
dWN0IHZkcGFfZGV2aWNlICp2ZHBhKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXYg
KmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gPiArCj4gPiArICAgICByZXR1cm4gZGV2LT51
c2VyX2ZlYXR1cmVzOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgaW50IHZkdXNlX3ZkcGFfc2V0
X2ZlYXR1cmVzKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSwgdTY0IGZlYXR1cmVzKQo+ID4gK3sK
PiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4g
PiArCj4gPiArICAgICBkZXYtPmZlYXR1cmVzID0gZmVhdHVyZXM7Cj4gPiArICAgICByZXR1cm4g
MDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQgdmR1c2VfdmRwYV9zZXRfY29uZmlnX2Ni
KHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgc3RydWN0IHZkcGFfY2FsbGJhY2sgKmNiKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2
ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gPiArCj4gPiArICAgICBzcGlu
X2xvY2soJmRldi0+aXJxX2xvY2spOwo+ID4gKyAgICAgZGV2LT5jb25maWdfY2IuY2FsbGJhY2sg
PSBjYi0+Y2FsbGJhY2s7Cj4gPiArICAgICBkZXYtPmNvbmZpZ19jYi5wcml2YXRlID0gY2ItPnBy
aXZhdGU7Cj4gPiArICAgICBzcGluX3VubG9jaygmZGV2LT5pcnFfbG9jayk7Cj4gPiArfQo+ID4g
Kwo+ID4gK3N0YXRpYyB1MTYgdmR1c2VfdmRwYV9nZXRfdnFfbnVtX21heChzdHJ1Y3QgdmRwYV9k
ZXZpY2UgKnZkcGEpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRw
YV90b192ZHVzZSh2ZHBhKTsKPiA+ICsKPiA+ICsgICAgIHJldHVybiBkZXYtPnZxX3NpemVfbWF4
Owo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdTMyIHZkdXNlX3ZkcGFfZ2V0X2RldmljZV9pZChz
dHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2Rl
diAqZGV2ID0gdmRwYV90b192ZHVzZSh2ZHBhKTsKPiA+ICsKPiA+ICsgICAgIHJldHVybiBkZXYt
PmRldmljZV9pZDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHUzMiB2ZHVzZV92ZHBhX2dldF92
ZW5kb3JfaWQoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVj
dCB2ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gPiArCj4gPiArICAgICBy
ZXR1cm4gZGV2LT52ZW5kb3JfaWQ7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB1OCB2ZHVzZV92
ZHBhX2dldF9zdGF0dXMoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhKQo+ID4gK3sKPiA+ICsgICAg
IHN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gPiArCj4gPiAr
ICAgICByZXR1cm4gZGV2LT5zdGF0dXM7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkIHZk
dXNlX3ZkcGFfc2V0X3N0YXR1cyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHU4IHN0YXR1cykK
PiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZk
cGEpOwo+ID4gKyAgICAgYm9vbCBzdGFydGVkID0gISEoc3RhdHVzICYgVklSVElPX0NPTkZJR19T
X0RSSVZFUl9PSyk7Cj4gPiArCj4gPiArICAgICBkZXYtPnN0YXR1cyA9IHN0YXR1czsKPiA+ICsK
PiA+ICsgICAgIGlmIChkZXYtPnN0YXJ0ZWQgPT0gc3RhcnRlZCkKPiA+ICsgICAgICAgICAgICAg
cmV0dXJuOwo+Cj4KPiBJZiB3ZSBjaGVjayBkZXYtPnN0YXR1cyA9PSBzdGF0dXMsIChvciBvbmx5
IGNoZWNrIHRoZSBEUklWRVJfT0sgYml0KQo+IHRoZW4gdGhlcmUncyBubyBuZWVkIHRvIGludHJv
ZHVjZSBhbiBleHRyYSBkZXYtPnN0YXJ0ZWQuCj4KCldpbGwgZG8gaXQuCgo+Cj4gPiArCj4gPiAr
ICAgICBkZXYtPnN0YXJ0ZWQgPSBzdGFydGVkOwo+ID4gKyAgICAgaWYgKGRldi0+c3RhcnRlZCkg
ewo+ID4gKyAgICAgICAgICAgICB2ZHVzZV9kZXZfc3RhcnRfZGF0YXBsYW5lKGRldik7Cj4gPiAr
ICAgICB9IGVsc2Ugewo+ID4gKyAgICAgICAgICAgICB2ZHVzZV9kZXZfcmVzZXQoZGV2KTsKPiA+
ICsgICAgICAgICAgICAgdmR1c2VfZGV2X3N0b3BfZGF0YXBsYW5lKGRldik7Cj4KPgo+IEkgd29u
ZGVyIGlmIG5vX3JlcGx5IHdvcmsgZm9yIHRoZSBjYXNlIG9mIHZob3N0LXZkcGEuIEZvciB2aXJ0
aW8tdkRQQSwKPiB3ZSBoYXZlIGJvdW5jaW5nIGJ1ZmZlcnMgc28gaXQncyBoYXJtbGVzcyBpZiB1
c2Vyc2FwY2UgZGF0YXBsYW5lIGtlZXBzCj4gcGVyZm9ybWluZyByZWFkL3dyaXRlLiBGb3Igdmhv
c3QtdkRQQSB3ZSBkb24ndCBoYXZlIHN1Y2ggc3R1ZmZzLgo+CgpPSy4gU28gaXQgc3RpbGwgbmVl
ZHMgdG8gYmUgc3luY2hyb25pemVkIGhlcmUuIElmIHNvLCBob3cgdG8gaGFuZGxlCnRoZSBlcnJv
cj8gTG9va3MgbGlrZSBwcmludGluZyBhIHdhcm5pbmcgbWVzc2FnZSBzaG91bGQgYmUgZW5vdWdo
LgoKPgo+ID4gKyAgICAgfQo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgc2l6ZV90IHZkdXNlX3Zk
cGFfZ2V0X2NvbmZpZ19zaXplKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSkKPiA+ICt7Cj4gPiAr
ICAgICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZkcGEpOwo+ID4gKwo+
ID4gKyAgICAgcmV0dXJuIGRldi0+Y29uZmlnX3NpemU7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRp
YyB2b2lkIHZkdXNlX3ZkcGFfZ2V0X2NvbmZpZyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHVu
c2lnbmVkIGludCBvZmZzZXQsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZv
aWQgKmJ1ZiwgdW5zaWduZWQgaW50IGxlbikKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2Vf
ZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZkcGEpOwo+ID4gKwo+ID4gKyAgICAgbWVtY3B5KGJ1
ZiwgZGV2LT5jb25maWcgKyBvZmZzZXQsIGxlbik7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB2
b2lkIHZkdXNlX3ZkcGFfc2V0X2NvbmZpZyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHVuc2ln
bmVkIGludCBvZmZzZXQsCj4gPiArICAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm9pZCAqYnVm
LCB1bnNpZ25lZCBpbnQgbGVuKQo+ID4gK3sKPiA+ICsgICAgIC8qIE5vdyB3ZSBvbmx5IHN1cHBv
cnQgcmVhZC1vbmx5IGNvbmZpZ3VyYXRpb24gc3BhY2UgKi8KPiA+ICt9Cj4gPiArCj4gPiArc3Rh
dGljIHUzMiB2ZHVzZV92ZHBhX2dldF9nZW5lcmF0aW9uKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRw
YSkKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNl
KHZkcGEpOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIGRldi0+Z2VuZXJhdGlvbjsKPiA+ICt9Cj4g
PiArCj4gPiArc3RhdGljIGludCB2ZHVzZV92ZHBhX3NldF9tYXAoc3RydWN0IHZkcGFfZGV2aWNl
ICp2ZHBhLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHZob3N0X2lv
dGxiICppb3RsYikKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBh
X3RvX3ZkdXNlKHZkcGEpOwo+ID4gKyAgICAgaW50IHJldDsKPiA+ICsKPiA+ICsgICAgIHJldCA9
IHZkdXNlX2RvbWFpbl9zZXRfbWFwKGRldi0+ZG9tYWluLCBpb3RsYik7Cj4gPiArICAgICBpZiAo
cmV0KQo+ID4gKyAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gKwo+ID4gKyAgICAgcmV0ID0g
dmR1c2VfZGV2X3VwZGF0ZV9pb3RsYihkZXYsIDBVTEwsIFVMTE9OR19NQVgpOwo+ID4gKyAgICAg
aWYgKHJldCkgewo+ID4gKyAgICAgICAgICAgICB2ZHVzZV9kb21haW5fY2xlYXJfbWFwKGRldi0+
ZG9tYWluLCBpb3RsYik7Cj4gPiArICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiArICAgICB9
Cj4gPiArCj4gPiArICAgICByZXR1cm4gMDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQg
dmR1c2VfdmRwYV9mcmVlKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSkKPiA+ICt7Cj4gPiArICAg
ICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZkcGEpOwo+ID4gKwo+ID4g
KyAgICAgZGV2LT52ZGV2ID0gTlVMTDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGNvbnN0IHN0
cnVjdCB2ZHBhX2NvbmZpZ19vcHMgdmR1c2VfdmRwYV9jb25maWdfb3BzID0gewo+ID4gKyAgICAg
LnNldF92cV9hZGRyZXNzICAgICAgICAgPSB2ZHVzZV92ZHBhX3NldF92cV9hZGRyZXNzLAo+ID4g
KyAgICAgLmtpY2tfdnEgICAgICAgICAgICAgICAgPSB2ZHVzZV92ZHBhX2tpY2tfdnEsCj4gPiAr
ICAgICAuc2V0X3ZxX2NiICAgICAgICAgICAgICA9IHZkdXNlX3ZkcGFfc2V0X3ZxX2NiLAo+ID4g
KyAgICAgLnNldF92cV9udW0gICAgICAgICAgICAgPSB2ZHVzZV92ZHBhX3NldF92cV9udW0sCj4g
PiArICAgICAuc2V0X3ZxX3JlYWR5ICAgICAgICAgICA9IHZkdXNlX3ZkcGFfc2V0X3ZxX3JlYWR5
LAo+ID4gKyAgICAgLmdldF92cV9yZWFkeSAgICAgICAgICAgPSB2ZHVzZV92ZHBhX2dldF92cV9y
ZWFkeSwKPiA+ICsgICAgIC5zZXRfdnFfc3RhdGUgICAgICAgICAgID0gdmR1c2VfdmRwYV9zZXRf
dnFfc3RhdGUsCj4gPiArICAgICAuZ2V0X3ZxX3N0YXRlICAgICAgICAgICA9IHZkdXNlX3ZkcGFf
Z2V0X3ZxX3N0YXRlLAo+ID4gKyAgICAgLmdldF92cV9hbGlnbiAgICAgICAgICAgPSB2ZHVzZV92
ZHBhX2dldF92cV9hbGlnbiwKPiA+ICsgICAgIC5nZXRfZmVhdHVyZXMgICAgICAgICAgID0gdmR1
c2VfdmRwYV9nZXRfZmVhdHVyZXMsCj4gPiArICAgICAuc2V0X2ZlYXR1cmVzICAgICAgICAgICA9
IHZkdXNlX3ZkcGFfc2V0X2ZlYXR1cmVzLAo+ID4gKyAgICAgLnNldF9jb25maWdfY2IgICAgICAg
ICAgPSB2ZHVzZV92ZHBhX3NldF9jb25maWdfY2IsCj4gPiArICAgICAuZ2V0X3ZxX251bV9tYXgg
ICAgICAgICA9IHZkdXNlX3ZkcGFfZ2V0X3ZxX251bV9tYXgsCj4gPiArICAgICAuZ2V0X2Rldmlj
ZV9pZCAgICAgICAgICA9IHZkdXNlX3ZkcGFfZ2V0X2RldmljZV9pZCwKPiA+ICsgICAgIC5nZXRf
dmVuZG9yX2lkICAgICAgICAgID0gdmR1c2VfdmRwYV9nZXRfdmVuZG9yX2lkLAo+ID4gKyAgICAg
LmdldF9zdGF0dXMgICAgICAgICAgICAgPSB2ZHVzZV92ZHBhX2dldF9zdGF0dXMsCj4gPiArICAg
ICAuc2V0X3N0YXR1cyAgICAgICAgICAgICA9IHZkdXNlX3ZkcGFfc2V0X3N0YXR1cywKPiA+ICsg
ICAgIC5nZXRfY29uZmlnX3NpemUgICAgICAgID0gdmR1c2VfdmRwYV9nZXRfY29uZmlnX3NpemUs
Cj4gPiArICAgICAuZ2V0X2NvbmZpZyAgICAgICAgICAgICA9IHZkdXNlX3ZkcGFfZ2V0X2NvbmZp
ZywKPiA+ICsgICAgIC5zZXRfY29uZmlnICAgICAgICAgICAgID0gdmR1c2VfdmRwYV9zZXRfY29u
ZmlnLAo+ID4gKyAgICAgLmdldF9nZW5lcmF0aW9uICAgICAgICAgPSB2ZHVzZV92ZHBhX2dldF9n
ZW5lcmF0aW9uLAo+ID4gKyAgICAgLnNldF9tYXAgICAgICAgICAgICAgICAgPSB2ZHVzZV92ZHBh
X3NldF9tYXAsCj4gPiArICAgICAuZnJlZSAgICAgICAgICAgICAgICAgICA9IHZkdXNlX3ZkcGFf
ZnJlZSwKPiA+ICt9Owo+ID4gKwo+ID4gK3N0YXRpYyBkbWFfYWRkcl90IHZkdXNlX2Rldl9tYXBf
cGFnZShzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBwYWdlICpwYWdlLAo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBsb25nIG9mZnNldCwgc2l6ZV90IHNp
emUsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gZG1hX2RhdGFf
ZGlyZWN0aW9uIGRpciwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5z
aWduZWQgbG9uZyBhdHRycykKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2ICp2ZGV2
ID0gZGV2X3RvX3ZkdXNlKGRldik7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfaW92YV9kb21haW4g
KmRvbWFpbiA9IHZkZXYtPmRvbWFpbjsKPiA+ICsKPiA+ICsgICAgIHJldHVybiB2ZHVzZV9kb21h
aW5fbWFwX3BhZ2UoZG9tYWluLCBwYWdlLCBvZmZzZXQsIHNpemUsIGRpciwgYXR0cnMpOwo+ID4g
K30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB2ZHVzZV9kZXZfdW5tYXBfcGFnZShzdHJ1Y3QgZGV2
aWNlICpkZXYsIGRtYV9hZGRyX3QgZG1hX2FkZHIsCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBzaXplX3Qgc2l6ZSwgZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyLAo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBhdHRycykKPiA+ICt7Cj4g
PiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2ICp2ZGV2ID0gZGV2X3RvX3ZkdXNlKGRldik7Cj4gPiAr
ICAgICBzdHJ1Y3QgdmR1c2VfaW92YV9kb21haW4gKmRvbWFpbiA9IHZkZXYtPmRvbWFpbjsKPiA+
ICsKPiA+ICsgICAgIHJldHVybiB2ZHVzZV9kb21haW5fdW5tYXBfcGFnZShkb21haW4sIGRtYV9h
ZGRyLCBzaXplLCBkaXIsIGF0dHJzKTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQgKnZk
dXNlX2Rldl9hbGxvY19jb2hlcmVudChzdHJ1Y3QgZGV2aWNlICpkZXYsIHNpemVfdCBzaXplLAo+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbWFfYWRkcl90ICpkbWFf
YWRkciwgZ2ZwX3QgZmxhZywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdW5zaWduZWQgbG9uZyBhdHRycykKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2
ICp2ZGV2ID0gZGV2X3RvX3ZkdXNlKGRldik7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfaW92YV9k
b21haW4gKmRvbWFpbiA9IHZkZXYtPmRvbWFpbjsKPiA+ICsgICAgIHVuc2lnbmVkIGxvbmcgaW92
YTsKPiA+ICsgICAgIHZvaWQgKmFkZHI7Cj4gPiArCj4gPiArICAgICAqZG1hX2FkZHIgPSBETUFf
TUFQUElOR19FUlJPUjsKPiA+ICsgICAgIGFkZHIgPSB2ZHVzZV9kb21haW5fYWxsb2NfY29oZXJl
bnQoZG9tYWluLCBzaXplLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRtYV9h
ZGRyX3QgKikmaW92YSwgZmxhZywgYXR0cnMpOwo+ID4gKyAgICAgaWYgKCFhZGRyKQo+ID4gKyAg
ICAgICAgICAgICByZXR1cm4gTlVMTDsKPiA+ICsKPiA+ICsgICAgICpkbWFfYWRkciA9IChkbWFf
YWRkcl90KWlvdmE7Cj4gPiArCj4gPiArICAgICByZXR1cm4gYWRkcjsKPiA+ICt9Cj4gPiArCj4g
PiArc3RhdGljIHZvaWQgdmR1c2VfZGV2X2ZyZWVfY29oZXJlbnQoc3RydWN0IGRldmljZSAqZGV2
LCBzaXplX3Qgc2l6ZSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dm9pZCAqdmFkZHIsIGRtYV9hZGRyX3QgZG1hX2FkZHIsCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgYXR0cnMpCj4gPiArewo+ID4gKyAgICAg
c3RydWN0IHZkdXNlX2RldiAqdmRldiA9IGRldl90b192ZHVzZShkZXYpOwo+ID4gKyAgICAgc3Ry
dWN0IHZkdXNlX2lvdmFfZG9tYWluICpkb21haW4gPSB2ZGV2LT5kb21haW47Cj4gPiArCj4gPiAr
ICAgICB2ZHVzZV9kb21haW5fZnJlZV9jb2hlcmVudChkb21haW4sIHNpemUsIHZhZGRyLCBkbWFf
YWRkciwgYXR0cnMpOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgc2l6ZV90IHZkdXNlX2Rldl9t
YXhfbWFwcGluZ19zaXplKHN0cnVjdCBkZXZpY2UgKmRldikKPiA+ICt7Cj4gPiArICAgICBzdHJ1
Y3QgdmR1c2VfZGV2ICp2ZGV2ID0gZGV2X3RvX3ZkdXNlKGRldik7Cj4gPiArICAgICBzdHJ1Y3Qg
dmR1c2VfaW92YV9kb21haW4gKmRvbWFpbiA9IHZkZXYtPmRvbWFpbjsKPiA+ICsKPiA+ICsgICAg
IHJldHVybiBkb21haW4tPmJvdW5jZV9zaXplOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgY29u
c3Qgc3RydWN0IGRtYV9tYXBfb3BzIHZkdXNlX2Rldl9kbWFfb3BzID0gewo+ID4gKyAgICAgLm1h
cF9wYWdlID0gdmR1c2VfZGV2X21hcF9wYWdlLAo+ID4gKyAgICAgLnVubWFwX3BhZ2UgPSB2ZHVz
ZV9kZXZfdW5tYXBfcGFnZSwKPiA+ICsgICAgIC5hbGxvYyA9IHZkdXNlX2Rldl9hbGxvY19jb2hl
cmVudCwKPiA+ICsgICAgIC5mcmVlID0gdmR1c2VfZGV2X2ZyZWVfY29oZXJlbnQsCj4gPiArICAg
ICAubWF4X21hcHBpbmdfc2l6ZSA9IHZkdXNlX2Rldl9tYXhfbWFwcGluZ19zaXplLAo+ID4gK307
Cj4gPiArCj4gPiArc3RhdGljIHVuc2lnbmVkIGludCBwZXJtX3RvX2ZpbGVfZmxhZ3ModTggcGVy
bSkKPiA+ICt7Cj4gPiArICAgICB1bnNpZ25lZCBpbnQgZmxhZ3MgPSAwOwo+ID4gKwo+ID4gKyAg
ICAgc3dpdGNoIChwZXJtKSB7Cj4gPiArICAgICBjYXNlIFZEVVNFX0FDQ0VTU19XTzoKPiA+ICsg
ICAgICAgICAgICAgZmxhZ3MgfD0gT19XUk9OTFk7Cj4gPiArICAgICAgICAgICAgIGJyZWFrOwo+
ID4gKyAgICAgY2FzZSBWRFVTRV9BQ0NFU1NfUk86Cj4gPiArICAgICAgICAgICAgIGZsYWdzIHw9
IE9fUkRPTkxZOwo+ID4gKyAgICAgICAgICAgICBicmVhazsKPiA+ICsgICAgIGNhc2UgVkRVU0Vf
QUNDRVNTX1JXOgo+ID4gKyAgICAgICAgICAgICBmbGFncyB8PSBPX1JEV1I7Cj4gPiArICAgICAg
ICAgICAgIGJyZWFrOwo+ID4gKyAgICAgZGVmYXVsdDoKPiA+ICsgICAgICAgICAgICAgV0FSTigx
LCAiaW52YWxpZGF0ZSB2aG9zdCBJT1RMQiBwZXJtaXNzaW9uXG4iKTsKPiA+ICsgICAgICAgICAg
ICAgYnJlYWs7Cj4gPiArICAgICB9Cj4gPiArCj4gPiArICAgICByZXR1cm4gZmxhZ3M7Cj4gPiAr
fQo+ID4gKwo+ID4gK3N0YXRpYyBpbnQgdmR1c2Vfa2lja2ZkX3NldHVwKHN0cnVjdCB2ZHVzZV9k
ZXYgKmRldiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdmR1c2VfdnFfZXZlbnRm
ZCAqZXZlbnRmZCkKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgZXZlbnRmZF9jdHggKmN0eCA9IE5V
TEw7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlICp2cTsKPiA+ICsgICAgIHUzMiBp
bmRleDsKPiA+ICsKPiA+ICsgICAgIGlmIChldmVudGZkLT5pbmRleCA+PSBkZXYtPnZxX251bSkK
PiA+ICsgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArCj4gPiArICAgICBpbmRleCA9
IGFycmF5X2luZGV4X25vc3BlYyhldmVudGZkLT5pbmRleCwgZGV2LT52cV9udW0pOwo+ID4gKyAg
ICAgdnEgPSAmZGV2LT52cXNbaW5kZXhdOwo+ID4gKyAgICAgaWYgKGV2ZW50ZmQtPmZkID49IDAp
IHsKPiA+ICsgICAgICAgICAgICAgY3R4ID0gZXZlbnRmZF9jdHhfZmRnZXQoZXZlbnRmZC0+ZmQp
Owo+ID4gKyAgICAgICAgICAgICBpZiAoSVNfRVJSKGN0eCkpCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgcmV0dXJuIFBUUl9FUlIoY3R4KTsKPiA+ICsgICAgIH0gZWxzZSBpZiAoZXZlbnRmZC0+
ZmQgIT0gVkRVU0VfRVZFTlRGRF9ERUFTU0lHTikKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIDA7
Cj4gPiArCj4gPiArICAgICBzcGluX2xvY2soJnZxLT5raWNrX2xvY2spOwo+ID4gKyAgICAgaWYg
KHZxLT5raWNrZmQpCj4gPiArICAgICAgICAgICAgIGV2ZW50ZmRfY3R4X3B1dCh2cS0+a2lja2Zk
KTsKPiA+ICsgICAgIHZxLT5raWNrZmQgPSBjdHg7Cj4gPiArICAgICBpZiAodnEtPnJlYWR5ICYm
IHZxLT5raWNrZWQgJiYgdnEtPmtpY2tmZCkgewo+ID4gKyAgICAgICAgICAgICBldmVudGZkX3Np
Z25hbCh2cS0+a2lja2ZkLCAxKTsKPiA+ICsgICAgICAgICAgICAgdnEtPmtpY2tlZCA9IGZhbHNl
Owo+ID4gKyAgICAgfQo+ID4gKyAgICAgc3Bpbl91bmxvY2soJnZxLT5raWNrX2xvY2spOwo+ID4g
Kwo+ID4gKyAgICAgcmV0dXJuIDA7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkIHZkdXNl
X2Rldl9pcnFfaW5qZWN0KHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKPiA+ICt7Cj4gPiArICAg
ICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSBjb250YWluZXJfb2Yod29yaywgc3RydWN0IHZkdXNl
X2RldiwgaW5qZWN0KTsKPiA+ICsKPiA+ICsgICAgIHNwaW5fbG9ja19pcnEoJmRldi0+aXJxX2xv
Y2spOwo+ID4gKyAgICAgaWYgKGRldi0+Y29uZmlnX2NiLmNhbGxiYWNrKQo+ID4gKyAgICAgICAg
ICAgICBkZXYtPmNvbmZpZ19jYi5jYWxsYmFjayhkZXYtPmNvbmZpZ19jYi5wcml2YXRlKTsKPiA+
ICsgICAgIHNwaW5fdW5sb2NrX2lycSgmZGV2LT5pcnFfbG9jayk7Cj4gPiArfQo+ID4gKwo+ID4g
K3N0YXRpYyB2b2lkIHZkdXNlX3ZxX2lycV9pbmplY3Qoc3RydWN0IHdvcmtfc3RydWN0ICp3b3Jr
KQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gY29udGFpbmVy
X29mKHdvcmssCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCB2ZHVzZV92aXJ0cXVldWUsIGluamVjdCk7Cj4gPiArCj4gPiArICAgICBzcGluX2xvY2tfaXJx
KCZ2cS0+aXJxX2xvY2spOwo+ID4gKyAgICAgaWYgKHZxLT5yZWFkeSAmJiB2cS0+Y2IuY2FsbGJh
Y2spCj4gPiArICAgICAgICAgICAgIHZxLT5jYi5jYWxsYmFjayh2cS0+Y2IucHJpdmF0ZSk7Cj4g
PiArICAgICBzcGluX3VubG9ja19pcnEoJnZxLT5pcnFfbG9jayk7Cj4gPiArfQo+ID4gKwo+ID4g
K3N0YXRpYyBsb25nIHZkdXNlX2Rldl9pb2N0bChzdHJ1Y3QgZmlsZSAqZmlsZSwgdW5zaWduZWQg
aW50IGNtZCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBhcmcp
Cj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gZmlsZS0+cHJpdmF0ZV9k
YXRhOwo+ID4gKyAgICAgdm9pZCBfX3VzZXIgKmFyZ3AgPSAodm9pZCBfX3VzZXIgKilhcmc7Cj4g
PiArICAgICBpbnQgcmV0Owo+ID4gKwo+ID4gKyAgICAgc3dpdGNoIChjbWQpIHsKPiA+ICsgICAg
IGNhc2UgVkRVU0VfSU9UTEJfR0VUX0ZEOiB7Cj4gPiArICAgICAgICAgICAgIHN0cnVjdCB2ZHVz
ZV9pb3RsYl9lbnRyeSBlbnRyeTsKPiA+ICsgICAgICAgICAgICAgc3RydWN0IHZob3N0X2lvdGxi
X21hcCAqbWFwOwo+ID4gKyAgICAgICAgICAgICBzdHJ1Y3QgdmRwYV9tYXBfZmlsZSAqbWFwX2Zp
bGU7Cj4gPiArICAgICAgICAgICAgIHN0cnVjdCB2ZHVzZV9pb3ZhX2RvbWFpbiAqZG9tYWluID0g
ZGV2LT5kb21haW47Cj4gPiArICAgICAgICAgICAgIHN0cnVjdCBmaWxlICpmID0gTlVMTDsKPiA+
ICsKPiA+ICsgICAgICAgICAgICAgcmV0ID0gLUVGQVVMVDsKPiA+ICsgICAgICAgICAgICAgaWYg
KGNvcHlfZnJvbV91c2VyKCZlbnRyeSwgYXJncCwgc2l6ZW9mKGVudHJ5KSkpCj4gPiArICAgICAg
ICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArCj4gPiArICAgICAgICAgICAgIHJldCA9IC1FSU5W
QUw7Cj4gPiArICAgICAgICAgICAgIGlmIChlbnRyeS5zdGFydCA+IGVudHJ5Lmxhc3QpCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArCj4gPiArICAgICAgICAgICAgIHNwaW5f
bG9jaygmZG9tYWluLT5pb3RsYl9sb2NrKTsKPiA+ICsgICAgICAgICAgICAgbWFwID0gdmhvc3Rf
aW90bGJfaXRyZWVfZmlyc3QoZG9tYWluLT5pb3RsYiwKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuc3RhcnQsIGVudHJ5Lmxhc3QpOwo+ID4gKyAg
ICAgICAgICAgICBpZiAobWFwKSB7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgbWFwX2ZpbGUg
PSAoc3RydWN0IHZkcGFfbWFwX2ZpbGUgKiltYXAtPm9wYXF1ZTsKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICBmID0gZ2V0X2ZpbGUobWFwX2ZpbGUtPmZpbGUpOwo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgIGVudHJ5Lm9mZnNldCA9IG1hcF9maWxlLT5vZmZzZXQ7Cj4gPiArICAgICAgICAgICAg
ICAgICAgICAgZW50cnkuc3RhcnQgPSBtYXAtPnN0YXJ0Owo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgIGVudHJ5Lmxhc3QgPSBtYXAtPmxhc3Q7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgZW50
cnkucGVybSA9IG1hcC0+cGVybTsKPiA+ICsgICAgICAgICAgICAgfQo+ID4gKyAgICAgICAgICAg
ICBzcGluX3VubG9jaygmZG9tYWluLT5pb3RsYl9sb2NrKTsKPiA+ICsgICAgICAgICAgICAgcmV0
ID0gLUVJTlZBTDsKPiA+ICsgICAgICAgICAgICAgaWYgKCFmKQo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgIGJyZWFrOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICByZXQgPSAtRUZBVUxUOwo+ID4g
KyAgICAgICAgICAgICBpZiAoY29weV90b191c2VyKGFyZ3AsICZlbnRyeSwgc2l6ZW9mKGVudHJ5
KSkpIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBmcHV0KGYpOwo+ID4gKyAgICAgICAgICAg
ICAgICAgICAgIGJyZWFrOwo+ID4gKyAgICAgICAgICAgICB9Cj4gPiArICAgICAgICAgICAgIHJl
dCA9IHJlY2VpdmVfZmQoZiwgcGVybV90b19maWxlX2ZsYWdzKGVudHJ5LnBlcm0pKTsKPiA+ICsg
ICAgICAgICAgICAgZnB1dChmKTsKPiA+ICsgICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICB9
Cj4gPiArICAgICBjYXNlIFZEVVNFX0RFVl9HRVRfRkVBVFVSRVM6Cj4gPiArICAgICAgICAgICAg
IHJldCA9IHB1dF91c2VyKGRldi0+ZmVhdHVyZXMsICh1NjQgX191c2VyICopYXJncCk7Cj4gPiAr
ICAgICAgICAgICAgIGJyZWFrOwo+ID4gKyAgICAgY2FzZSBWRFVTRV9ERVZfVVBEQVRFX0NPTkZJ
Rzogewo+ID4gKyAgICAgICAgICAgICBzdHJ1Y3QgdmR1c2VfY29uZmlnX3VwZGF0ZSBjb25maWc7
Cj4gPiArICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgc2l6ZSA9IG9mZnNldG9mKHN0cnVjdCB2
ZHVzZV9jb25maWdfdXBkYXRlLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBidWZmZXIpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICByZXQgPSAtRUZBVUxU
Owo+ID4gKyAgICAgICAgICAgICBpZiAoY29weV9mcm9tX3VzZXIoJmNvbmZpZywgYXJncCwgc2l6
ZSkpCj4gPiArICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArCj4gPiArICAgICAgICAg
ICAgIHJldCA9IC1FSU5WQUw7Cj4gPiArICAgICAgICAgICAgIGlmIChjb25maWcubGVuZ3RoID09
IDAgfHwKPiA+ICsgICAgICAgICAgICAgICAgIGNvbmZpZy5sZW5ndGggPiBkZXYtPmNvbmZpZ19z
aXplIC0gY29uZmlnLm9mZnNldCkKPiA+ICsgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+
ICsKPiA+ICsgICAgICAgICAgICAgcmV0ID0gLUVGQVVMVDsKPiA+ICsgICAgICAgICAgICAgaWYg
KGNvcHlfZnJvbV91c2VyKGRldi0+Y29uZmlnICsgY29uZmlnLm9mZnNldCwgYXJncCArIHNpemUs
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcubGVuZ3RoKSkKPiA+
ICsgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgcmV0
ID0gMDsKPiA+ICsgICAgICAgICAgICAgcXVldWVfd29yayh2ZHVzZV9pcnFfd3EsICZkZXYtPmlu
amVjdCk7Cj4KPgo+IEkgd29uZGVyIGlmIGl0J3MgYmV0dGVyIHRvIHNlcGFyYXRlIGNvbmZpZyBp
bnRlcnJ1cHQgb3V0IG9mIGNvbmZpZwo+IHVwZGF0ZSBvciB3ZSBuZWVkIGRvY3VtZW50IHRoaXMu
Cj4KCkkgaGF2ZSBkb2N1bWVudGVkIGl0IGluIHRoZSBkb2NzLiBMb29rcyBsaWtlIGEgY29uZmln
IHVwZGF0ZSBzaG91bGQgYmUKYWx3YXlzIGZvbGxvd2VkIGJ5IGEgY29uZmlnIGludGVycnVwdC4g
SSBkaWRuJ3QgZmluZCBhIGNhc2UgdGhhdCB1c2VzCnRoZW0gc2VwYXJhdGVseS4KCj4KPiA+ICsg
ICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICB9Cj4gPiArICAgICBjYXNlIFZEVVNFX1ZRX0dF
VF9JTkZPOiB7Cj4KPgo+IERvIHdlIG5lZWQgdG8gbGltaXQgdGhpcyBvbmx5IHdoZW4gRFJJVkVS
X09LIGlzIHNldD8KPgoKQW55IHJlYXNvbiB0byBhZGQgdGhpcyBsaW1pdGF0aW9uPwoKPgo+ID4g
KyAgICAgICAgICAgICBzdHJ1Y3QgdmR1c2VfdnFfaW5mbyB2cV9pbmZvOwo+ID4gKyAgICAgICAg
ICAgICB1MzIgdnFfaW5kZXg7Cj4gPiArCj4gPiArICAgICAgICAgICAgIHJldCA9IC1FRkFVTFQ7
Cj4gPiArICAgICAgICAgICAgIGlmIChjb3B5X2Zyb21fdXNlcigmdnFfaW5mbywgYXJncCwgc2l6
ZW9mKHZxX2luZm8pKSkKPiA+ICsgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ICsKPiA+
ICsgICAgICAgICAgICAgcmV0ID0gLUVJTlZBTDsKPiA+ICsgICAgICAgICAgICAgaWYgKHZxX2lu
Zm8uaW5kZXggPj0gZGV2LT52cV9udW0pCj4gPiArICAgICAgICAgICAgICAgICAgICAgYnJlYWs7
Cj4gPiArCj4gPiArICAgICAgICAgICAgIHZxX2luZGV4ID0gYXJyYXlfaW5kZXhfbm9zcGVjKHZx
X2luZm8uaW5kZXgsIGRldi0+dnFfbnVtKTsKPiA+ICsgICAgICAgICAgICAgdnFfaW5mby5kZXNj
X2FkZHIgPSBkZXYtPnZxc1t2cV9pbmRleF0uZGVzY19hZGRyOwo+ID4gKyAgICAgICAgICAgICB2
cV9pbmZvLmRyaXZlcl9hZGRyID0gZGV2LT52cXNbdnFfaW5kZXhdLmRyaXZlcl9hZGRyOwo+ID4g
KyAgICAgICAgICAgICB2cV9pbmZvLmRldmljZV9hZGRyID0gZGV2LT52cXNbdnFfaW5kZXhdLmRl
dmljZV9hZGRyOwo+ID4gKyAgICAgICAgICAgICB2cV9pbmZvLm51bSA9IGRldi0+dnFzW3ZxX2lu
ZGV4XS5udW07Cj4gPiArICAgICAgICAgICAgIHZxX2luZm8uYXZhaWxfaWR4ID0gZGV2LT52cXNb
dnFfaW5kZXhdLmF2YWlsX2lkeDsKPiA+ICsgICAgICAgICAgICAgdnFfaW5mby5yZWFkeSA9IGRl
di0+dnFzW3ZxX2luZGV4XS5yZWFkeTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgcmV0ID0gLUVG
QVVMVDsKPiA+ICsgICAgICAgICAgICAgaWYgKGNvcHlfdG9fdXNlcihhcmdwLCAmdnFfaW5mbywg
c2l6ZW9mKHZxX2luZm8pKSkKPiA+ICsgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ICsK
PiA+ICsgICAgICAgICAgICAgcmV0ID0gMDsKPiA+ICsgICAgICAgICAgICAgYnJlYWs7Cj4gPiAr
ICAgICB9Cj4gPiArICAgICBjYXNlIFZEVVNFX1ZRX1NFVFVQX0tJQ0tGRDogewo+ID4gKyAgICAg
ICAgICAgICBzdHJ1Y3QgdmR1c2VfdnFfZXZlbnRmZCBldmVudGZkOwo+ID4gKwo+ID4gKyAgICAg
ICAgICAgICByZXQgPSAtRUZBVUxUOwo+ID4gKyAgICAgICAgICAgICBpZiAoY29weV9mcm9tX3Vz
ZXIoJmV2ZW50ZmQsIGFyZ3AsIHNpemVvZihldmVudGZkKSkpCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgYnJlYWs7Cj4gPiArCj4gPiArICAgICAgICAgICAgIHJldCA9IHZkdXNlX2tpY2tmZF9z
ZXR1cChkZXYsICZldmVudGZkKTsKPiA+ICsgICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICB9
Cj4gPiArICAgICBjYXNlIFZEVVNFX1ZRX0lOSkVDVF9JUlE6IHsKPiA+ICsgICAgICAgICAgICAg
dTMyIHZxX2luZGV4Owo+ID4gKwo+ID4gKyAgICAgICAgICAgICByZXQgPSAtRUZBVUxUOwo+ID4g
KyAgICAgICAgICAgICBpZiAoZ2V0X3VzZXIodnFfaW5kZXgsICh1MzIgX191c2VyICopYXJncCkp
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArCj4gPiArICAgICAgICAgICAg
IHJldCA9IC1FSU5WQUw7Cj4gPiArICAgICAgICAgICAgIGlmICh2cV9pbmRleCA+PSBkZXYtPnZx
X251bSkKPiA+ICsgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ICsKPiA+ICsgICAgICAg
ICAgICAgcmV0ID0gMDsKPiA+ICsgICAgICAgICAgICAgdnFfaW5kZXggPSBhcnJheV9pbmRleF9u
b3NwZWModnFfaW5kZXgsIGRldi0+dnFfbnVtKTsKPiA+ICsgICAgICAgICAgICAgcXVldWVfd29y
ayh2ZHVzZV9pcnFfd3EsICZkZXYtPnZxc1t2cV9pbmRleF0uaW5qZWN0KTsKPiA+ICsgICAgICAg
ICAgICAgYnJlYWs7Cj4gPiArICAgICB9Cj4gPiArICAgICBkZWZhdWx0Ogo+ID4gKyAgICAgICAg
ICAgICByZXQgPSAtRU5PSU9DVExDTUQ7Cj4gPiArICAgICAgICAgICAgIGJyZWFrOwo+ID4gKyAg
ICAgfQo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIHJldDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGlj
IGludCB2ZHVzZV9kZXZfcmVsZWFzZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZmlsZSAq
ZmlsZSkKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSBmaWxlLT5wcml2
YXRlX2RhdGE7Cj4gPiArCj4gPiArICAgICBzcGluX2xvY2soJmRldi0+bXNnX2xvY2spOwo+ID4g
KyAgICAgLyogTWFrZSBzdXJlIHRoZSBpbmZsaWdodCBtZXNzYWdlcyBjYW4gcHJvY2Vzc2VkIGFm
dGVyIHJlY29ubmNlY3Rpb24gKi8KPiA+ICsgICAgIGxpc3Rfc3BsaWNlX2luaXQoJmRldi0+cmVj
dl9saXN0LCAmZGV2LT5zZW5kX2xpc3QpOwo+ID4gKyAgICAgc3Bpbl91bmxvY2soJmRldi0+bXNn
X2xvY2spOwo+ID4gKyAgICAgZGV2LT5jb25uZWN0ZWQgPSBmYWxzZTsKPiA+ICsKPiA+ICsgICAg
IHJldHVybiAwOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgc3RydWN0IHZkdXNlX2RldiAqdmR1
c2VfZGV2X2dldF9mcm9tX21pbm9yKGludCBtaW5vcikKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3Qg
dmR1c2VfZGV2ICpkZXY7Cj4gPiArCj4gPiArICAgICBtdXRleF9sb2NrKCZ2ZHVzZV9sb2NrKTsK
PiA+ICsgICAgIGRldiA9IGlkcl9maW5kKCZ2ZHVzZV9pZHIsIG1pbm9yKTsKPiA+ICsgICAgIG11
dGV4X3VubG9jaygmdmR1c2VfbG9jayk7Cj4gPiArCj4gPiArICAgICByZXR1cm4gZGV2Owo+ID4g
K30KPiA+ICsKPiA+ICtzdGF0aWMgaW50IHZkdXNlX2Rldl9vcGVuKHN0cnVjdCBpbm9kZSAqaW5v
ZGUsIHN0cnVjdCBmaWxlICpmaWxlKQo+ID4gK3sKPiA+ICsgICAgIGludCByZXQ7Cj4gPiArICAg
ICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHVzZV9kZXZfZ2V0X2Zyb21fbWlub3IoaW1pbm9y
KGlub2RlKSk7Cj4gPiArCj4gPiArICAgICBpZiAoIWRldikKPiA+ICsgICAgICAgICAgICAgcmV0
dXJuIC1FTk9ERVY7Cj4gPiArCj4gPiArICAgICByZXQgPSAtRUJVU1k7Cj4gPiArICAgICBtdXRl
eF9sb2NrKCZkZXYtPmxvY2spOwo+ID4gKyAgICAgaWYgKGRldi0+Y29ubmVjdGVkKQo+ID4gKyAg
ICAgICAgICAgICBnb3RvIHVubG9jazsKPiA+ICsKPiA+ICsgICAgIHJldCA9IDA7Cj4gPiArICAg
ICBkZXYtPmNvbm5lY3RlZCA9IHRydWU7Cj4gPiArICAgICBmaWxlLT5wcml2YXRlX2RhdGEgPSBk
ZXY7Cj4gPiArdW5sb2NrOgo+ID4gKyAgICAgbXV0ZXhfdW5sb2NrKCZkZXYtPmxvY2spOwo+ID4g
Kwo+ID4gKyAgICAgcmV0dXJuIHJldDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGNvbnN0IHN0
cnVjdCBmaWxlX29wZXJhdGlvbnMgdmR1c2VfZGV2X2ZvcHMgPSB7Cj4gPiArICAgICAub3duZXIg
ICAgICAgICAgPSBUSElTX01PRFVMRSwKPiA+ICsgICAgIC5vcGVuICAgICAgICAgICA9IHZkdXNl
X2Rldl9vcGVuLAo+ID4gKyAgICAgLnJlbGVhc2UgICAgICAgID0gdmR1c2VfZGV2X3JlbGVhc2Us
Cj4gPiArICAgICAucmVhZF9pdGVyICAgICAgPSB2ZHVzZV9kZXZfcmVhZF9pdGVyLAo+ID4gKyAg
ICAgLndyaXRlX2l0ZXIgICAgID0gdmR1c2VfZGV2X3dyaXRlX2l0ZXIsCj4gPiArICAgICAucG9s
bCAgICAgICAgICAgPSB2ZHVzZV9kZXZfcG9sbCwKPiA+ICsgICAgIC51bmxvY2tlZF9pb2N0bCA9
IHZkdXNlX2Rldl9pb2N0bCwKPiA+ICsgICAgIC5jb21wYXRfaW9jdGwgICA9IGNvbXBhdF9wdHJf
aW9jdGwsCj4gPiArICAgICAubGxzZWVrICAgICAgICAgPSBub29wX2xsc2VlaywKPiA+ICt9Owo+
ID4gKwo+ID4gK3N0YXRpYyBzdHJ1Y3QgdmR1c2VfZGV2ICp2ZHVzZV9kZXZfY3JlYXRlKHZvaWQp
Cj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNlX2RldiAqZGV2ID0ga3phbGxvYyhzaXplb2Yo
KmRldiksIEdGUF9LRVJORUwpOwo+ID4gKwo+ID4gKyAgICAgaWYgKCFkZXYpCj4gPiArICAgICAg
ICAgICAgIHJldHVybiBOVUxMOwo+ID4gKwo+ID4gKyAgICAgbXV0ZXhfaW5pdCgmZGV2LT5sb2Nr
KTsKPiA+ICsgICAgIHNwaW5fbG9ja19pbml0KCZkZXYtPm1zZ19sb2NrKTsKPiA+ICsgICAgIElO
SVRfTElTVF9IRUFEKCZkZXYtPnNlbmRfbGlzdCk7Cj4gPiArICAgICBJTklUX0xJU1RfSEVBRCgm
ZGV2LT5yZWN2X2xpc3QpOwo+ID4gKyAgICAgc3Bpbl9sb2NrX2luaXQoJmRldi0+aXJxX2xvY2sp
Owo+ID4gKwo+ID4gKyAgICAgSU5JVF9XT1JLKCZkZXYtPmluamVjdCwgdmR1c2VfZGV2X2lycV9p
bmplY3QpOwo+ID4gKyAgICAgaW5pdF93YWl0cXVldWVfaGVhZCgmZGV2LT53YWl0cSk7Cj4gPiAr
Cj4gPiArICAgICByZXR1cm4gZGV2Owo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB2ZHVz
ZV9kZXZfZGVzdHJveShzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYpCj4gPiArewo+ID4gKyAgICAga2Zy
ZWUoZGV2KTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHN0cnVjdCB2ZHVzZV9kZXYgKnZkdXNl
X2ZpbmRfZGV2KGNvbnN0IGNoYXIgKm5hbWUpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZkdXNl
X2RldiAqZGV2Owo+ID4gKyAgICAgaW50IGlkOwo+ID4gKwo+ID4gKyAgICAgaWRyX2Zvcl9lYWNo
X2VudHJ5KCZ2ZHVzZV9pZHIsIGRldiwgaWQpCj4gPiArICAgICAgICAgICAgIGlmICghc3RyY21w
KGRldi0+bmFtZSwgbmFtZSkpCj4gPiArICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldjsK
PiA+ICsKPiA+ICsgICAgIHJldHVybiBOVUxMOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgaW50
IHZkdXNlX2Rlc3Ryb3lfZGV2KGNoYXIgKm5hbWUpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHZk
dXNlX2RldiAqZGV2ID0gdmR1c2VfZmluZF9kZXYobmFtZSk7Cj4gPiArCj4gPiArICAgICBpZiAo
IWRldikKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArCj4gPiArICAgICBt
dXRleF9sb2NrKCZkZXYtPmxvY2spOwo+ID4gKyAgICAgaWYgKGRldi0+dmRldiB8fCBkZXYtPmNv
bm5lY3RlZCkgewo+ID4gKyAgICAgICAgICAgICBtdXRleF91bmxvY2soJmRldi0+bG9jayk7Cj4g
PiArICAgICAgICAgICAgIHJldHVybiAtRUJVU1k7Cj4gPiArICAgICB9Cj4gPiArICAgICBkZXYt
PmNvbm5lY3RlZCA9IHRydWU7Cj4gPiArICAgICBtdXRleF91bmxvY2soJmRldi0+bG9jayk7Cj4g
PiArCj4gPiArICAgICB2ZHVzZV9kZXZfbXNnX2NsZWFudXAoZGV2KTsKPiA+ICsgICAgIGRldmlj
ZV9kZXN0cm95KHZkdXNlX2NsYXNzLCBNS0RFVihNQUpPUih2ZHVzZV9tYWpvciksIGRldi0+bWlu
b3IpKTsKPiA+ICsgICAgIGlkcl9yZW1vdmUoJnZkdXNlX2lkciwgZGV2LT5taW5vcik7Cj4gPiAr
ICAgICBrdmZyZWUoZGV2LT5jb25maWcpOwo+ID4gKyAgICAga2ZyZWUoZGV2LT52cXMpOwo+ID4g
KyAgICAgdmR1c2VfZG9tYWluX2Rlc3Ryb3koZGV2LT5kb21haW4pOwo+ID4gKyAgICAga2ZyZWUo
ZGV2LT5uYW1lKTsKPiA+ICsgICAgIHZkdXNlX2Rldl9kZXN0cm95KGRldik7Cj4gPiArICAgICBt
b2R1bGVfcHV0KFRISVNfTU9EVUxFKTsKPiA+ICsKPiA+ICsgICAgIHJldHVybiAwOwo+ID4gK30K
PiA+ICsKPiA+ICtzdGF0aWMgYm9vbCBkZXZpY2VfaXNfYWxsb3dlZCh1MzIgZGV2aWNlX2lkKQo+
ID4gK3sKPiA+ICsgICAgIGludCBpOwo+ID4gKwo+ID4gKyAgICAgZm9yIChpID0gMDsgaSA8IEFS
UkFZX1NJWkUoYWxsb3dlZF9kZXZpY2VfaWQpOyBpKyspCj4gPiArICAgICAgICAgICAgIGlmIChh
bGxvd2VkX2RldmljZV9pZFtpXSA9PSBkZXZpY2VfaWQpCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIHRydWU7Cj4gPiArCj4gPiArICAgICByZXR1cm4gZmFsc2U7Cj4gPiArfQo+ID4g
Kwo+ID4gK3N0YXRpYyBib29sIGZlYXR1cmVzX2lzX3ZhbGlkKHU2NCBmZWF0dXJlcykKPiA+ICt7
Cj4gPiArICAgICBpZiAoIShmZWF0dXJlcyAmICgxVUxMIDw8IFZJUlRJT19GX0FDQ0VTU19QTEFU
Rk9STSkpKQo+ID4gKyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7Cj4gPiArCj4gPiArICAgICAv
KiBOb3cgd2Ugb25seSBzdXBwb3J0IHJlYWQtb25seSBjb25maWd1cmF0aW9uIHNwYWNlICovCj4g
PiArICAgICBpZiAoZmVhdHVyZXMgJiAoMVVMTCA8PCBWSVJUSU9fQkxLX0ZfQ09ORklHX1dDRSkp
Cj4gPiArICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKPiA+ICsKPiA+ICsgICAgIHJldHVybiB0
cnVlOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgYm9vbCB2ZHVzZV92YWxpZGF0ZV9jb25maWco
c3RydWN0IHZkdXNlX2Rldl9jb25maWcgKmNvbmZpZykKPiA+ICt7Cj4gPiArICAgICBpZiAoY29u
ZmlnLT5ib3VuY2Vfc2l6ZSA+IFZEVVNFX01BWF9CT1VOQ0VfU0laRSkKPiA+ICsgICAgICAgICAg
ICAgcmV0dXJuIGZhbHNlOwo+ID4gKwo+ID4gKyAgICAgaWYgKGNvbmZpZy0+dnFfYWxpZ24gPiBQ
QUdFX1NJWkUpCj4gPiArICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKPiA+ICsKPiA+ICsgICAg
IGlmIChjb25maWctPmNvbmZpZ19zaXplID4gUEFHRV9TSVpFKQo+ID4gKyAgICAgICAgICAgICBy
ZXR1cm4gZmFsc2U7Cj4gPiArCj4gPiArICAgICBpZiAoIWRldmljZV9pc19hbGxvd2VkKGNvbmZp
Zy0+ZGV2aWNlX2lkKSkKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ID4gKwo+ID4g
KyAgICAgaWYgKCFmZWF0dXJlc19pc192YWxpZChjb25maWctPmZlYXR1cmVzKSkKPiA+ICsgICAg
ICAgICAgICAgcmV0dXJuIGZhbHNlOwo+Cj4KPiBEbyB3ZSBuZWVkIHRvIHZhbGlkYXRlIHdoZXRo
ZXIgb3Igbm90IGNvbmZpZ19zaXplIGlzIHRvbyBzbWFsbCBvdGhlcndpc2UKPiB3ZSBtYXkgaGF2
ZSBPT0IgYWNjZXNzIGluIGdldF9jb25maWcoKT8KPgoKSG93IGFib3V0IGFkZGluZyB2YWxpZGF0
aW9uIGluIGdldF9jb25maWcoKT8gSXQgc2VlbXMgdG8gYmUgaGFyZCB0bwpkZWZpbmUgdGhlIGxv
d2VyIGJvdW5kLgoKPgo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIHRydWU7Cj4gPiArfQo+ID4gKwo+
ID4gK3N0YXRpYyBpbnQgdmR1c2VfY3JlYXRlX2RldihzdHJ1Y3QgdmR1c2VfZGV2X2NvbmZpZyAq
Y29uZmlnLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpjb25maWdfYnVmLCB1
NjQgYXBpX3ZlcnNpb24pCj4gPiArewo+ID4gKyAgICAgaW50IGksIHJldDsKPiA+ICsgICAgIHN0
cnVjdCB2ZHVzZV9kZXYgKmRldjsKPiA+ICsKPiA+ICsgICAgIHJldCA9IC1FRVhJU1Q7Cj4gPiAr
ICAgICBpZiAodmR1c2VfZmluZF9kZXYoY29uZmlnLT5uYW1lKSkKPiA+ICsgICAgICAgICAgICAg
Z290byBlcnI7Cj4gPiArCj4gPiArICAgICByZXQgPSAtRU5PTUVNOwo+ID4gKyAgICAgZGV2ID0g
dmR1c2VfZGV2X2NyZWF0ZSgpOwo+ID4gKyAgICAgaWYgKCFkZXYpCj4gPiArICAgICAgICAgICAg
IGdvdG8gZXJyOwo+ID4gKwo+ID4gKyAgICAgZGV2LT5hcGlfdmVyc2lvbiA9IGFwaV92ZXJzaW9u
Owo+ID4gKyAgICAgZGV2LT51c2VyX2ZlYXR1cmVzID0gY29uZmlnLT5mZWF0dXJlczsKPiA+ICsg
ICAgIGRldi0+ZGV2aWNlX2lkID0gY29uZmlnLT5kZXZpY2VfaWQ7Cj4gPiArICAgICBkZXYtPnZl
bmRvcl9pZCA9IGNvbmZpZy0+dmVuZG9yX2lkOwo+ID4gKyAgICAgZGV2LT5uYW1lID0ga3N0cmR1
cChjb25maWctPm5hbWUsIEdGUF9LRVJORUwpOwo+ID4gKyAgICAgaWYgKCFkZXYtPm5hbWUpCj4g
PiArICAgICAgICAgICAgIGdvdG8gZXJyX3N0cjsKPiA+ICsKPiA+ICsgICAgIGRldi0+ZG9tYWlu
ID0gdmR1c2VfZG9tYWluX2NyZWF0ZShWRFVTRV9JT1ZBX1NJWkUgLSAxLAo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy0+Ym91bmNlX3NpemUpOwo+ID4g
KyAgICAgaWYgKCFkZXYtPmRvbWFpbikKPiA+ICsgICAgICAgICAgICAgZ290byBlcnJfZG9tYWlu
Owo+ID4gKwo+ID4gKyAgICAgZGV2LT5jb25maWcgPSBjb25maWdfYnVmOwo+ID4gKyAgICAgZGV2
LT5jb25maWdfc2l6ZSA9IGNvbmZpZy0+Y29uZmlnX3NpemU7Cj4gPiArICAgICBkZXYtPnZxX2Fs
aWduID0gY29uZmlnLT52cV9hbGlnbjsKPiA+ICsgICAgIGRldi0+dnFfc2l6ZV9tYXggPSBjb25m
aWctPnZxX3NpemVfbWF4Owo+ID4gKyAgICAgZGV2LT52cV9udW0gPSBjb25maWctPnZxX251bTsK
PiA+ICsgICAgIGRldi0+dnFzID0ga2NhbGxvYyhkZXYtPnZxX251bSwgc2l6ZW9mKCpkZXYtPnZx
cyksIEdGUF9LRVJORUwpOwo+ID4gKyAgICAgaWYgKCFkZXYtPnZxcykKPiA+ICsgICAgICAgICAg
ICAgZ290byBlcnJfdnFzOwo+ID4gKwo+ID4gKyAgICAgZm9yIChpID0gMDsgaSA8IGRldi0+dnFf
bnVtOyBpKyspIHsKPiA+ICsgICAgICAgICAgICAgZGV2LT52cXNbaV0uaW5kZXggPSBpOwo+ID4g
KyAgICAgICAgICAgICBJTklUX1dPUksoJmRldi0+dnFzW2ldLmluamVjdCwgdmR1c2VfdnFfaXJx
X2luamVjdCk7Cj4gPiArICAgICAgICAgICAgIHNwaW5fbG9ja19pbml0KCZkZXYtPnZxc1tpXS5r
aWNrX2xvY2spOwo+ID4gKyAgICAgICAgICAgICBzcGluX2xvY2tfaW5pdCgmZGV2LT52cXNbaV0u
aXJxX2xvY2spOwo+ID4gKyAgICAgfQo+ID4gKwo+ID4gKyAgICAgcmV0ID0gaWRyX2FsbG9jKCZ2
ZHVzZV9pZHIsIGRldiwgMSwgVkRVU0VfREVWX01BWCwgR0ZQX0tFUk5FTCk7Cj4gPiArICAgICBp
ZiAocmV0IDwgMCkKPiA+ICsgICAgICAgICAgICAgZ290byBlcnJfaWRyOwo+ID4gKwo+ID4gKyAg
ICAgZGV2LT5taW5vciA9IHJldDsKPiA+ICsgICAgIGRldi0+ZGV2ID0gZGV2aWNlX2NyZWF0ZSh2
ZHVzZV9jbGFzcywgTlVMTCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNS0RF
VihNQUpPUih2ZHVzZV9tYWpvciksIGRldi0+bWlub3IpLAo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIE5VTEwsICIlcyIsIGNvbmZpZy0+bmFtZSk7Cj4gPiArICAgICBpZiAoSVNf
RVJSKGRldi0+ZGV2KSkgewo+ID4gKyAgICAgICAgICAgICByZXQgPSBQVFJfRVJSKGRldi0+ZGV2
KTsKPiA+ICsgICAgICAgICAgICAgZ290byBlcnJfZGV2Owo+ID4gKyAgICAgfQo+ID4gKyAgICAg
X19tb2R1bGVfZ2V0KFRISVNfTU9EVUxFKTsKPiA+ICsKPiA+ICsgICAgIHJldHVybiAwOwo+ID4g
K2Vycl9kZXY6Cj4gPiArICAgICBpZHJfcmVtb3ZlKCZ2ZHVzZV9pZHIsIGRldi0+bWlub3IpOwo+
ID4gK2Vycl9pZHI6Cj4gPiArICAgICBrZnJlZShkZXYtPnZxcyk7Cj4gPiArZXJyX3ZxczoKPiA+
ICsgICAgIHZkdXNlX2RvbWFpbl9kZXN0cm95KGRldi0+ZG9tYWluKTsKPiA+ICtlcnJfZG9tYWlu
Ogo+ID4gKyAgICAga2ZyZWUoZGV2LT5uYW1lKTsKPiA+ICtlcnJfc3RyOgo+ID4gKyAgICAgdmR1
c2VfZGV2X2Rlc3Ryb3koZGV2KTsKPiA+ICtlcnI6Cj4gPiArICAgICBrdmZyZWUoY29uZmlnX2J1
Zik7Cj4gPiArICAgICByZXR1cm4gcmV0Owo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgbG9uZyB2
ZHVzZV9pb2N0bChzdHJ1Y3QgZmlsZSAqZmlsZSwgdW5zaWduZWQgaW50IGNtZCwKPiA+ICsgICAg
ICAgICAgICAgICAgICAgICB1bnNpZ25lZCBsb25nIGFyZykKPiA+ICt7Cj4gPiArICAgICBpbnQg
cmV0Owo+ID4gKyAgICAgdm9pZCBfX3VzZXIgKmFyZ3AgPSAodm9pZCBfX3VzZXIgKilhcmc7Cj4g
PiArICAgICBzdHJ1Y3QgdmR1c2VfY29udHJvbCAqY29udHJvbCA9IGZpbGUtPnByaXZhdGVfZGF0
YTsKPiA+ICsKPiA+ICsgICAgIG11dGV4X2xvY2soJnZkdXNlX2xvY2spOwo+ID4gKyAgICAgc3dp
dGNoIChjbWQpIHsKPiA+ICsgICAgIGNhc2UgVkRVU0VfR0VUX0FQSV9WRVJTSU9OOgo+ID4gKyAg
ICAgICAgICAgICByZXQgPSBwdXRfdXNlcihjb250cm9sLT5hcGlfdmVyc2lvbiwgKHU2NCBfX3Vz
ZXIgKilhcmdwKTsKPiA+ICsgICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICBjYXNlIFZEVVNF
X1NFVF9BUElfVkVSU0lPTjogewo+ID4gKyAgICAgICAgICAgICB1NjQgYXBpX3ZlcnNpb247Cj4g
PiArCj4gPiArICAgICAgICAgICAgIHJldCA9IC1FRkFVTFQ7Cj4gPiArICAgICAgICAgICAgIGlm
IChnZXRfdXNlcihhcGlfdmVyc2lvbiwgKHU2NCBfX3VzZXIgKilhcmdwKSkKPiA+ICsgICAgICAg
ICAgICAgICAgICAgICBicmVhazsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgcmV0ID0gLUVJTlZB
TDsKPiA+ICsgICAgICAgICAgICAgaWYgKGFwaV92ZXJzaW9uID4gVkRVU0VfQVBJX1ZFUlNJT04p
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArCj4gPiArICAgICAgICAgICAg
IHJldCA9IDA7Cj4gPiArICAgICAgICAgICAgIGNvbnRyb2wtPmFwaV92ZXJzaW9uID0gYXBpX3Zl
cnNpb247Cj4gPiArICAgICAgICAgICAgIGJyZWFrOwo+ID4gKyAgICAgfQo+ID4gKyAgICAgY2Fz
ZSBWRFVTRV9DUkVBVEVfREVWOiB7Cj4gPiArICAgICAgICAgICAgIHN0cnVjdCB2ZHVzZV9kZXZf
Y29uZmlnIGNvbmZpZzsKPiA+ICsgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBzaXplID0gb2Zm
c2V0b2Yoc3RydWN0IHZkdXNlX2Rldl9jb25maWcsIGNvbmZpZyk7Cj4gPiArICAgICAgICAgICAg
IHZvaWQgKmJ1ZjsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgcmV0ID0gLUVGQVVMVDsKPiA+ICsg
ICAgICAgICAgICAgaWYgKGNvcHlfZnJvbV91c2VyKCZjb25maWcsIGFyZ3AsIHNpemUpKQo+ID4g
KyAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICByZXQg
PSAtRUlOVkFMOwo+ID4gKyAgICAgICAgICAgICBpZiAodmR1c2VfdmFsaWRhdGVfY29uZmlnKCZj
b25maWcpID09IGZhbHNlKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gKwo+
ID4gKyAgICAgICAgICAgICBidWYgPSB2bWVtZHVwX3VzZXIoYXJncCArIHNpemUsIGNvbmZpZy5j
b25maWdfc2l6ZSk7Cj4gPiArICAgICAgICAgICAgIGlmIChJU19FUlIoYnVmKSkgewo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgIHJldCA9IFBUUl9FUlIoYnVmKTsKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICBicmVhazsKPiA+ICsgICAgICAgICAgICAgfQo+ID4gKyAgICAgICAgICAgICByZXQg
PSB2ZHVzZV9jcmVhdGVfZGV2KCZjb25maWcsIGJ1ZiwgY29udHJvbC0+YXBpX3ZlcnNpb24pOwo+
ID4gKyAgICAgICAgICAgICBicmVhazsKPiA+ICsgICAgIH0KPiA+ICsgICAgIGNhc2UgVkRVU0Vf
REVTVFJPWV9ERVY6IHsKPiA+ICsgICAgICAgICAgICAgY2hhciBuYW1lW1ZEVVNFX05BTUVfTUFY
XTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgcmV0ID0gLUVGQVVMVDsKPiA+ICsgICAgICAgICAg
ICAgaWYgKGNvcHlfZnJvbV91c2VyKG5hbWUsIGFyZ3AsIFZEVVNFX05BTUVfTUFYKSkKPiA+ICsg
ICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgcmV0ID0g
dmR1c2VfZGVzdHJveV9kZXYobmFtZSk7Cj4gPiArICAgICAgICAgICAgIGJyZWFrOwo+ID4gKyAg
ICAgfQo+ID4gKyAgICAgZGVmYXVsdDoKPiA+ICsgICAgICAgICAgICAgcmV0ID0gLUVJTlZBTDsK
PiA+ICsgICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICB9Cj4gPiArICAgICBtdXRleF91bmxv
Y2soJnZkdXNlX2xvY2spOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIHJldDsKPiA+ICt9Cj4gPiAr
Cj4gPiArc3RhdGljIGludCB2ZHVzZV9yZWxlYXNlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVj
dCBmaWxlICpmaWxlKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCB2ZHVzZV9jb250cm9sICpjb250
cm9sID0gZmlsZS0+cHJpdmF0ZV9kYXRhOwo+ID4gKwo+ID4gKyAgICAga2ZyZWUoY29udHJvbCk7
Cj4gPiArICAgICByZXR1cm4gMDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGludCB2ZHVzZV9v
cGVuKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBmaWxlICpmaWxlKQo+ID4gK3sKPiA+ICsg
ICAgIHN0cnVjdCB2ZHVzZV9jb250cm9sICpjb250cm9sOwo+ID4gKwo+ID4gKyAgICAgY29udHJv
bCA9IGttYWxsb2Moc2l6ZW9mKHN0cnVjdCB2ZHVzZV9jb250cm9sKSwgR0ZQX0tFUk5FTCk7Cj4g
PiArICAgICBpZiAoIWNvbnRyb2wpCj4gPiArICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+
ID4gKwo+ID4gKyAgICAgY29udHJvbC0+YXBpX3ZlcnNpb24gPSBWRFVTRV9BUElfVkVSU0lPTjsK
PiA+ICsgICAgIGZpbGUtPnByaXZhdGVfZGF0YSA9IGNvbnRyb2w7Cj4gPiArCj4gPiArICAgICBy
ZXR1cm4gMDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGNvbnN0IHN0cnVjdCBmaWxlX29wZXJh
dGlvbnMgdmR1c2VfY3RybF9mb3BzID0gewo+ID4gKyAgICAgLm93bmVyICAgICAgICAgID0gVEhJ
U19NT0RVTEUsCj4gPiArICAgICAub3BlbiAgICAgICAgICAgPSB2ZHVzZV9vcGVuLAo+ID4gKyAg
ICAgLnJlbGVhc2UgICAgICAgID0gdmR1c2VfcmVsZWFzZSwKPiA+ICsgICAgIC51bmxvY2tlZF9p
b2N0bCA9IHZkdXNlX2lvY3RsLAo+ID4gKyAgICAgLmNvbXBhdF9pb2N0bCAgID0gY29tcGF0X3B0
cl9pb2N0bCwKPiA+ICsgICAgIC5sbHNlZWsgICAgICAgICA9IG5vb3BfbGxzZWVrLAo+ID4gK307
Cj4gPiArCj4gPiArc3RhdGljIGNoYXIgKnZkdXNlX2Rldm5vZGUoc3RydWN0IGRldmljZSAqZGV2
LCB1bW9kZV90ICptb2RlKQo+ID4gK3sKPiA+ICsgICAgIHJldHVybiBrYXNwcmludGYoR0ZQX0tF
Uk5FTCwgInZkdXNlLyVzIiwgZGV2X25hbWUoZGV2KSk7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRp
YyB2b2lkIHZkdXNlX21nbXRkZXZfcmVsZWFzZShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gPiArewo+
ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgc3RydWN0IGRldmljZSB2ZHVzZV9tZ210ZGV2ID0gewo+
ID4gKyAgICAgLmluaXRfbmFtZSA9ICJ2ZHVzZSIsCj4gPiArICAgICAucmVsZWFzZSA9IHZkdXNl
X21nbXRkZXZfcmVsZWFzZSwKPiA+ICt9Owo+ID4gKwo+ID4gK3N0YXRpYyBzdHJ1Y3QgdmRwYV9t
Z210X2RldiBtZ210X2RldjsKPiA+ICsKPiA+ICtzdGF0aWMgaW50IHZkdXNlX2Rldl9pbml0X3Zk
cGEoc3RydWN0IHZkdXNlX2RldiAqZGV2LCBjb25zdCBjaGFyICpuYW1lKQo+ID4gK3sKPiA+ICsg
ICAgIHN0cnVjdCB2ZHVzZV92ZHBhICp2ZGV2Owo+ID4gKyAgICAgaW50IHJldDsKPiA+ICsKPiA+
ICsgICAgIGlmIChkZXYtPnZkZXYpCj4gPiArICAgICAgICAgICAgIHJldHVybiAtRUVYSVNUOwo+
ID4gKwo+ID4gKyAgICAgdmRldiA9IHZkcGFfYWxsb2NfZGV2aWNlKHN0cnVjdCB2ZHVzZV92ZHBh
LCB2ZHBhLCBkZXYtPmRldiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmdmR1
c2VfdmRwYV9jb25maWdfb3BzLCBuYW1lLCB0cnVlKTsKPiA+ICsgICAgIGlmICghdmRldikKPiA+
ICsgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiArCj4gPiArICAgICBkZXYtPnZkZXYg
PSB2ZGV2Owo+ID4gKyAgICAgdmRldi0+ZGV2ID0gZGV2Owo+ID4gKyAgICAgdmRldi0+dmRwYS5k
ZXYuZG1hX21hc2sgPSAmdmRldi0+dmRwYS5kZXYuY29oZXJlbnRfZG1hX21hc2s7Cj4gPiArICAg
ICByZXQgPSBkbWFfc2V0X21hc2tfYW5kX2NvaGVyZW50KCZ2ZGV2LT52ZHBhLmRldiwgRE1BX0JJ
VF9NQVNLKDY0KSk7Cj4gPiArICAgICBpZiAocmV0KSB7Cj4gPiArICAgICAgICAgICAgIHB1dF9k
ZXZpY2UoJnZkZXYtPnZkcGEuZGV2KTsKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+
ICsgICAgIH0KPiA+ICsgICAgIHNldF9kbWFfb3BzKCZ2ZGV2LT52ZHBhLmRldiwgJnZkdXNlX2Rl
dl9kbWFfb3BzKTsKPiA+ICsgICAgIHZkZXYtPnZkcGEuZG1hX2RldiA9ICZ2ZGV2LT52ZHBhLmRl
djsKPiA+ICsgICAgIHZkZXYtPnZkcGEubWRldiA9ICZtZ210X2RldjsKPiA+ICsKPiA+ICsgICAg
IHJldHVybiAwOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgaW50IHZkcGFfZGV2X2FkZChzdHJ1
Y3QgdmRwYV9tZ210X2RldiAqbWRldiwgY29uc3QgY2hhciAqbmFtZSkKPiA+ICt7Cj4gPiArICAg
ICBzdHJ1Y3QgdmR1c2VfZGV2ICpkZXY7Cj4gPiArICAgICBpbnQgcmV0Owo+ID4gKwo+ID4gKyAg
ICAgbXV0ZXhfbG9jaygmdmR1c2VfbG9jayk7Cj4gPiArICAgICBkZXYgPSB2ZHVzZV9maW5kX2Rl
dihuYW1lKTsKPiA+ICsgICAgIGlmICghZGV2KSB7Cj4gPiArICAgICAgICAgICAgIG11dGV4X3Vu
bG9jaygmdmR1c2VfbG9jayk7Cj4gPiArICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4g
KyAgICAgfQo+ID4gKyAgICAgcmV0ID0gdmR1c2VfZGV2X2luaXRfdmRwYShkZXYsIG5hbWUpOwo+
ID4gKyAgICAgbXV0ZXhfdW5sb2NrKCZ2ZHVzZV9sb2NrKTsKPiA+ICsgICAgIGlmIChyZXQpCj4g
PiArICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiArCj4gPiArICAgICByZXQgPSBfdmRwYV9y
ZWdpc3Rlcl9kZXZpY2UoJmRldi0+dmRldi0+dmRwYSwgZGV2LT52cV9udW0pOwo+ID4gKyAgICAg
aWYgKHJldCkgewo+ID4gKyAgICAgICAgICAgICBwdXRfZGV2aWNlKCZkZXYtPnZkZXYtPnZkcGEu
ZGV2KTsKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+ICsgICAgIH0KPiA+ICsKPiA+
ICsgICAgIHJldHVybiAwOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB2ZHBhX2Rldl9k
ZWwoc3RydWN0IHZkcGFfbWdtdF9kZXYgKm1kZXYsIHN0cnVjdCB2ZHBhX2RldmljZSAqZGV2KQo+
ID4gK3sKPiA+ICsgICAgIF92ZHBhX3VucmVnaXN0ZXJfZGV2aWNlKGRldik7Cj4gPiArfQo+ID4g
Kwo+ID4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmRwYV9tZ210ZGV2X29wcyB2ZHBhX2Rldl9tZ210
ZGV2X29wcyA9IHsKPiA+ICsgICAgIC5kZXZfYWRkID0gdmRwYV9kZXZfYWRkLAo+ID4gKyAgICAg
LmRldl9kZWwgPSB2ZHBhX2Rldl9kZWwsCj4gPiArfTsKPiA+ICsKPiA+ICtzdGF0aWMgc3RydWN0
IHZpcnRpb19kZXZpY2VfaWQgaWRfdGFibGVbXSA9IHsKPiA+ICsgICAgIHsgVklSVElPX0lEX0JM
T0NLLCBWSVJUSU9fREVWX0FOWV9JRCB9LAo+ID4gKyAgICAgeyAwIH0sCj4gPiArfTsKPiA+ICsK
PiA+ICtzdGF0aWMgc3RydWN0IHZkcGFfbWdtdF9kZXYgbWdtdF9kZXYgPSB7Cj4gPiArICAgICAu
ZGV2aWNlID0gJnZkdXNlX21nbXRkZXYsCj4gPiArICAgICAuaWRfdGFibGUgPSBpZF90YWJsZSwK
PiA+ICsgICAgIC5vcHMgPSAmdmRwYV9kZXZfbWdtdGRldl9vcHMsCj4gPiArfTsKPiA+ICsKPiA+
ICtzdGF0aWMgaW50IHZkdXNlX21nbXRkZXZfaW5pdCh2b2lkKQo+ID4gK3sKPiA+ICsgICAgIGlu
dCByZXQ7Cj4gPiArCj4gPiArICAgICByZXQgPSBkZXZpY2VfcmVnaXN0ZXIoJnZkdXNlX21nbXRk
ZXYpOwo+ID4gKyAgICAgaWYgKHJldCkKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+
ICsKPiA+ICsgICAgIHJldCA9IHZkcGFfbWdtdGRldl9yZWdpc3RlcigmbWdtdF9kZXYpOwo+ID4g
KyAgICAgaWYgKHJldCkKPiA+ICsgICAgICAgICAgICAgZ290byBlcnI7Cj4gPiArCj4gPiArICAg
ICByZXR1cm4gMDsKPiA+ICtlcnI6Cj4gPiArICAgICBkZXZpY2VfdW5yZWdpc3RlcigmdmR1c2Vf
bWdtdGRldik7Cj4gPiArICAgICByZXR1cm4gcmV0Owo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMg
dm9pZCB2ZHVzZV9tZ210ZGV2X2V4aXQodm9pZCkKPiA+ICt7Cj4gPiArICAgICB2ZHBhX21nbXRk
ZXZfdW5yZWdpc3RlcigmbWdtdF9kZXYpOwo+ID4gKyAgICAgZGV2aWNlX3VucmVnaXN0ZXIoJnZk
dXNlX21nbXRkZXYpOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgaW50IHZkdXNlX2luaXQodm9p
ZCkKPiA+ICt7Cj4gPiArICAgICBpbnQgcmV0Owo+ID4gKyAgICAgc3RydWN0IGRldmljZSAqZGV2
Owo+ID4gKwo+ID4gKyAgICAgdmR1c2VfY2xhc3MgPSBjbGFzc19jcmVhdGUoVEhJU19NT0RVTEUs
ICJ2ZHVzZSIpOwo+ID4gKyAgICAgaWYgKElTX0VSUih2ZHVzZV9jbGFzcykpCj4gPiArICAgICAg
ICAgICAgIHJldHVybiBQVFJfRVJSKHZkdXNlX2NsYXNzKTsKPiA+ICsKPiA+ICsgICAgIHZkdXNl
X2NsYXNzLT5kZXZub2RlID0gdmR1c2VfZGV2bm9kZTsKPiA+ICsKPiA+ICsgICAgIHJldCA9IGFs
bG9jX2NocmRldl9yZWdpb24oJnZkdXNlX21ham9yLCAwLCBWRFVTRV9ERVZfTUFYLCAidmR1c2Ui
KTsKPiA+ICsgICAgIGlmIChyZXQpCj4gPiArICAgICAgICAgICAgIGdvdG8gZXJyX2NoYXJkZXZf
cmVnaW9uOwo+ID4gKwo+ID4gKyAgICAgLyogL2Rldi92ZHVzZS9jb250cm9sICovCj4gPiArICAg
ICBjZGV2X2luaXQoJnZkdXNlX2N0cmxfY2RldiwgJnZkdXNlX2N0cmxfZm9wcyk7Cj4gPiArICAg
ICB2ZHVzZV9jdHJsX2NkZXYub3duZXIgPSBUSElTX01PRFVMRTsKPiA+ICsgICAgIHJldCA9IGNk
ZXZfYWRkKCZ2ZHVzZV9jdHJsX2NkZXYsIHZkdXNlX21ham9yLCAxKTsKPiA+ICsgICAgIGlmIChy
ZXQpCj4gPiArICAgICAgICAgICAgIGdvdG8gZXJyX2N0cmxfY2RldjsKPiA+ICsKPiA+ICsgICAg
IGRldiA9IGRldmljZV9jcmVhdGUodmR1c2VfY2xhc3MsIE5VTEwsIHZkdXNlX21ham9yLCBOVUxM
LCAiY29udHJvbCIpOwo+ID4gKyAgICAgaWYgKElTX0VSUihkZXYpKSB7Cj4gPiArICAgICAgICAg
ICAgIHJldCA9IFBUUl9FUlIoZGV2KTsKPiA+ICsgICAgICAgICAgICAgZ290byBlcnJfZGV2aWNl
Owo+ID4gKyAgICAgfQo+ID4gKwo+ID4gKyAgICAgLyogL2Rldi92ZHVzZS8kREVWSUNFICovCj4g
PiArICAgICBjZGV2X2luaXQoJnZkdXNlX2NkZXYsICZ2ZHVzZV9kZXZfZm9wcyk7Cj4gPiArICAg
ICB2ZHVzZV9jZGV2Lm93bmVyID0gVEhJU19NT0RVTEU7Cj4gPiArICAgICByZXQgPSBjZGV2X2Fk
ZCgmdmR1c2VfY2RldiwgTUtERVYoTUFKT1IodmR1c2VfbWFqb3IpLCAxKSwKPiA+ICsgICAgICAg
ICAgICAgICAgICAgIFZEVVNFX0RFVl9NQVggLSAxKTsKPiA+ICsgICAgIGlmIChyZXQpCj4gPiAr
ICAgICAgICAgICAgIGdvdG8gZXJyX2NkZXY7Cj4gPiArCj4gPiArICAgICB2ZHVzZV9pcnFfd3Eg
PSBhbGxvY193b3JrcXVldWUoInZkdXNlLWlycSIsCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBXUV9ISUdIUFJJIHwgV1FfU1lTRlMgfCBXUV9VTkJPVU5ELCAwKTsKPiA+ICsgICAg
IGlmICghdmR1c2VfaXJxX3dxKQo+ID4gKyAgICAgICAgICAgICBnb3RvIGVycl93cTsKPiA+ICsK
PiA+ICsgICAgIHJldCA9IHZkdXNlX2RvbWFpbl9pbml0KCk7Cj4gPiArICAgICBpZiAocmV0KQo+
ID4gKyAgICAgICAgICAgICBnb3RvIGVycl9kb21haW47Cj4gPiArCj4gPiArICAgICByZXQgPSB2
ZHVzZV9tZ210ZGV2X2luaXQoKTsKPiA+ICsgICAgIGlmIChyZXQpCj4gPiArICAgICAgICAgICAg
IGdvdG8gZXJyX21nbXRkZXY7Cj4gPiArCj4gPiArICAgICByZXR1cm4gMDsKPiA+ICtlcnJfbWdt
dGRldjoKPiA+ICsgICAgIHZkdXNlX2RvbWFpbl9leGl0KCk7Cj4gPiArZXJyX2RvbWFpbjoKPiA+
ICsgICAgIGRlc3Ryb3lfd29ya3F1ZXVlKHZkdXNlX2lycV93cSk7Cj4gPiArZXJyX3dxOgo+ID4g
KyAgICAgY2Rldl9kZWwoJnZkdXNlX2NkZXYpOwo+ID4gK2Vycl9jZGV2Ogo+ID4gKyAgICAgZGV2
aWNlX2Rlc3Ryb3kodmR1c2VfY2xhc3MsIHZkdXNlX21ham9yKTsKPiA+ICtlcnJfZGV2aWNlOgo+
ID4gKyAgICAgY2Rldl9kZWwoJnZkdXNlX2N0cmxfY2Rldik7Cj4gPiArZXJyX2N0cmxfY2RldjoK
PiA+ICsgICAgIHVucmVnaXN0ZXJfY2hyZGV2X3JlZ2lvbih2ZHVzZV9tYWpvciwgVkRVU0VfREVW
X01BWCk7Cj4gPiArZXJyX2NoYXJkZXZfcmVnaW9uOgo+ID4gKyAgICAgY2xhc3NfZGVzdHJveSh2
ZHVzZV9jbGFzcyk7Cj4gPiArICAgICByZXR1cm4gcmV0Owo+ID4gK30KPiA+ICttb2R1bGVfaW5p
dCh2ZHVzZV9pbml0KTsKPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB2ZHVzZV9leGl0KHZvaWQpCj4g
PiArewo+ID4gKyAgICAgdmR1c2VfbWdtdGRldl9leGl0KCk7Cj4gPiArICAgICB2ZHVzZV9kb21h
aW5fZXhpdCgpOwo+ID4gKyAgICAgZGVzdHJveV93b3JrcXVldWUodmR1c2VfaXJxX3dxKTsKPiA+
ICsgICAgIGNkZXZfZGVsKCZ2ZHVzZV9jZGV2KTsKPiA+ICsgICAgIGRldmljZV9kZXN0cm95KHZk
dXNlX2NsYXNzLCB2ZHVzZV9tYWpvcik7Cj4gPiArICAgICBjZGV2X2RlbCgmdmR1c2VfY3RybF9j
ZGV2KTsKPiA+ICsgICAgIHVucmVnaXN0ZXJfY2hyZGV2X3JlZ2lvbih2ZHVzZV9tYWpvciwgVkRV
U0VfREVWX01BWCk7Cj4gPiArICAgICBjbGFzc19kZXN0cm95KHZkdXNlX2NsYXNzKTsKPiA+ICt9
Cj4gPiArbW9kdWxlX2V4aXQodmR1c2VfZXhpdCk7Cj4gPiArCj4gPiArTU9EVUxFX0xJQ0VOU0Uo
RFJWX0xJQ0VOU0UpOwo+ID4gK01PRFVMRV9BVVRIT1IoRFJWX0FVVEhPUik7Cj4gPiArTU9EVUxF
X0RFU0NSSVBUSU9OKERSVl9ERVNDKTsKPiA+IGRpZmYgLS1naXQgYS9pbmNsdWRlL3VhcGkvbGlu
dXgvdmR1c2UuaCBiL2luY2x1ZGUvdWFwaS9saW51eC92ZHVzZS5oCj4gPiBuZXcgZmlsZSBtb2Rl
IDEwMDY0NAo+ID4gaW5kZXggMDAwMDAwMDAwMDAwLi5mMjFiMmU1MWI1YzgKPiA+IC0tLSAvZGV2
L251bGwKPiA+ICsrKyBiL2luY2x1ZGUvdWFwaS9saW51eC92ZHVzZS5oCj4gPiBAQCAtMCwwICsx
LDE0MyBAQAo+ID4gKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wIFdJVEggTGlu
dXgtc3lzY2FsbC1ub3RlICovCj4gPiArI2lmbmRlZiBfVUFQSV9WRFVTRV9IXwo+ID4gKyNkZWZp
bmUgX1VBUElfVkRVU0VfSF8KPiA+ICsKPiA+ICsjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KPiA+
ICsKPiA+ICsjZGVmaW5lIFZEVVNFX0FQSV9WRVJTSU9OICAgIDAKPiA+ICsKPiA+ICsjZGVmaW5l
IFZEVVNFX05BTUVfTUFYICAgICAgIDI1Ngo+ID4gKwo+ID4gKy8qIHRoZSBjb250cm9sIG1lc3Nh
Z2VzIGRlZmluaXRpb24gZm9yIHJlYWQvd3JpdGUgKi8KPiA+ICsKPiA+ICtlbnVtIHZkdXNlX3Jl
cV90eXBlIHsKPiA+ICsgICAgIC8qIEdldCB0aGUgc3RhdGUgZm9yIHZpcnRxdWV1ZSBmcm9tIHVz
ZXJzcGFjZSAqLwo+ID4gKyAgICAgVkRVU0VfR0VUX1ZRX1NUQVRFLAo+ID4gKyAgICAgLyogTm90
aWZ5IHVzZXJzcGFjZSB0byBzdGFydCB0aGUgZGF0YXBsYW5lLCBubyByZXBseSAqLwo+ID4gKyAg
ICAgVkRVU0VfU1RBUlRfREFUQVBMQU5FLAo+ID4gKyAgICAgLyogTm90aWZ5IHVzZXJzcGFjZSB0
byBzdG9wIHRoZSBkYXRhcGxhbmUsIG5vIHJlcGx5ICovCj4gPiArICAgICBWRFVTRV9TVE9QX0RB
VEFQTEFORSwKPiA+ICsgICAgIC8qIE5vdGlmeSB1c2Vyc3BhY2UgdG8gdXBkYXRlIHRoZSBtZW1v
cnkgbWFwcGluZyBpbiBkZXZpY2UgSU9UTEIgKi8KPiA+ICsgICAgIFZEVVNFX1VQREFURV9JT1RM
QiwKPiA+ICt9Owo+ID4gKwo+ID4gK3N0cnVjdCB2ZHVzZV92cV9zdGF0ZSB7Cj4gPiArICAgICBf
X3UzMiBpbmRleDsgLyogdmlydHF1ZXVlIGluZGV4ICovCj4gPiArICAgICBfX3UzMiBhdmFpbF9p
ZHg7IC8qIHZpcnRxdWV1ZSBzdGF0ZSAobGFzdF9hdmFpbF9pZHgpICovCj4gPiArfTsKPgo+Cj4g
VGhpcyBuZWVkcyBzb21lIHR3ZWFrcyB0byBzdXBwb3J0IHBhY2tlZCB2aXJ0cXVldWUuCj4KCk9L
LgoKVGhhbmtzLApZb25namkKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KaW9tbXUgbWFpbGluZyBsaXN0CmlvbW11QGxpc3RzLmxpbnV4LWZvdW5kYXRpb24u
b3JnCmh0dHBzOi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2lv
bW11
