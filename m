Return-Path: <iommu-bounces@lists.linux-foundation.org>
X-Original-To: lists.iommu@lfdr.de
Delivered-To: lists.iommu@lfdr.de
Received: from smtp2.osuosl.org (smtp2.osuosl.org [IPv6:2605:bc80:3010::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 76A533B8268
	for <lists.iommu@lfdr.de>; Wed, 30 Jun 2021 14:48:26 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp2.osuosl.org (Postfix) with ESMTP id 118B8405C5;
	Wed, 30 Jun 2021 12:48:25 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
	by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1ngMWxmWWDD4; Wed, 30 Jun 2021 12:48:24 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp2.osuosl.org (Postfix) with ESMTPS id F193F405A6;
	Wed, 30 Jun 2021 12:48:23 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id AC720C000E;
	Wed, 30 Jun 2021 12:48:23 +0000 (UTC)
X-Original-To: iommu@lists.linux-foundation.org
Delivered-To: iommu@lists.linuxfoundation.org
Received: from smtp3.osuosl.org (smtp3.osuosl.org [IPv6:2605:bc80:3010::136])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 32A8EC000E
 for <iommu@lists.linux-foundation.org>; Wed, 30 Jun 2021 12:48:22 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp3.osuosl.org (Postfix) with ESMTP id 2195C60646
 for <iommu@lists.linux-foundation.org>; Wed, 30 Jun 2021 12:48:22 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Authentication-Results: smtp3.osuosl.org (amavisd-new);
 dkim=pass (1024-bit key) header.d=samsung.com
Received: from smtp3.osuosl.org ([127.0.0.1])
 by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 2nk0RJIH_-Q6 for <iommu@lists.linux-foundation.org>;
 Wed, 30 Jun 2021 12:48:20 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from mailout1.w1.samsung.com (mailout1.w1.samsung.com
 [210.118.77.11])
 by smtp3.osuosl.org (Postfix) with ESMTPS id 8216B60633
 for <iommu@lists.linux-foundation.org>; Wed, 30 Jun 2021 12:48:20 +0000 (UTC)
Received: from eucas1p2.samsung.com (unknown [182.198.249.207])
 by mailout1.w1.samsung.com (KnoxPortal) with ESMTP id
 20210630124817euoutp01aef74f4a0fc596a806c868cd14e13334~NXQCWMH292958529585euoutp01Z
 for <iommu@lists.linux-foundation.org>; Wed, 30 Jun 2021 12:48:17 +0000 (GMT)
DKIM-Filter: OpenDKIM Filter v2.11.0 mailout1.w1.samsung.com
 20210630124817euoutp01aef74f4a0fc596a806c868cd14e13334~NXQCWMH292958529585euoutp01Z
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=samsung.com;
 s=mail20170921; t=1625057297;
 bh=LS326IHcmThfGZLvyS6l7wE9Us45WReO7ABvmSg1Q7Q=;
 h=Subject:To:Cc:From:Date:In-Reply-To:References:From;
 b=fKSpEFxXqFPFjjIcdGVx5OxCLVq3sPOhm4k88FLF4DOR8Mw7mxZYmvackYGZrne9o
 VtuQOjqIdn5QuQpWUj16VuwDUbyRbgn4hUpyLXfLWWYwg9eGWlTWlWKBQkBQEDUdZq
 CGA56TLMAaDQU0Zay5LhGy05WrP0rEPiEKijfwVo=
Received: from eusmges2new.samsung.com (unknown [203.254.199.244]) by
 eucas1p2.samsung.com (KnoxPortal) with ESMTP id
 20210630124817eucas1p21efef28e445b9f796bf4b257d8b1b18b~NXQB_wcWV2866528665eucas1p2L;
 Wed, 30 Jun 2021 12:48:17 +0000 (GMT)
Received: from eucas1p1.samsung.com ( [182.198.249.206]) by
 eusmges2new.samsung.com (EUCPMTA) with SMTP id 89.FE.42068.1186CD06; Wed, 30
 Jun 2021 13:48:17 +0100 (BST)
Received: from eusmtrp2.samsung.com (unknown [182.198.249.139]) by
 eucas1p2.samsung.com (KnoxPortal) with ESMTPA id
 20210630124816eucas1p27563f0a456c0196e20937619aa2f8d26~NXQBcUOo11121111211eucas1p21;
 Wed, 30 Jun 2021 12:48:16 +0000 (GMT)
Received: from eusmgms2.samsung.com (unknown [182.198.249.180]) by
 eusmtrp2.samsung.com (KnoxPortal) with ESMTP id
 20210630124816eusmtrp2e5b941e017519c5ce3446209c7ac01c6~NXQBbJT2-0449304493eusmtrp2G;
 Wed, 30 Jun 2021 12:48:16 +0000 (GMT)
X-AuditID: cbfec7f4-c89ff7000002a454-a9-60dc6811b3c7
Received: from eusmtip1.samsung.com ( [203.254.199.221]) by
 eusmgms2.samsung.com (EUCPMTA) with SMTP id B3.C6.20981.0186CD06; Wed, 30
 Jun 2021 13:48:16 +0100 (BST)
Received: from [106.210.134.192] (unknown [106.210.134.192]) by
 eusmtip1.samsung.com (KnoxPortal) with ESMTPA id
 20210630124815eusmtip166c7fa03f59754ba0c91ac0064408db1~NXQAj9ie52302923029eusmtip1B;
 Wed, 30 Jun 2021 12:48:15 +0000 (GMT)
Subject: Re: [PATCH] iommu/arm: Cleanup resources in case of probe error path
To: Amey Narkhede <ameynarkhede03@gmail.com>, Rob Clark <robdclark@gmail.com>
From: Marek Szyprowski <m.szyprowski@samsung.com>
Message-ID: <26f6a765-37c8-d63a-a779-384f095d5770@samsung.com>
Date: Wed, 30 Jun 2021 14:48:15 +0200
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0)
 Gecko/20100101 Thunderbird/78.11.0
MIME-Version: 1.0
In-Reply-To: <20210608164559.204023-1-ameynarkhede03@gmail.com>
Content-Language: en-US
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFnrNKsWRmVeSWpSXmKPExsWy7djPc7qCGXcSDM5O4LK4tH0Zq8WC/dYW
 DasvsFqsWniNzaJl1iIWi87ZG9gtNj2+xmoxcf9ZdovLu+awWTxf+IPZ4uCHJ6wWS6YeZLOY
 fO0bq0Xf3iCLljumFjeXbmB3EPB4cnAek8eaeWsYPS739TJ57Jx1l93j8dyN7B4tR96yemxa
 1cnmcefaHjaPzUvqPSbfWM7o0dv8js3j8ya5AJ4oLpuU1JzMstQifbsErow//88wFkw3q7jZ
 NYW1gXG3bhcjB4eEgInEsx7ZLkYuDiGBFYwSx++eYYFwvjBKTN03hw3C+cwocfJOP1CGE6xj
 esM+qMRyRonbt84zQzgfGSX2XOkCqxIW8Jfo/PabEcQWAbK/vZjMCFLELLCEReLNvPdgCTYB
 Q4mut11sIDavgJ3EudNd7CA2i4CqREvnf1YQW1QgWeL9vBmsEDWCEidnPgFbwClgL7Hu/Euw
 OLOAvETz1tnMELa4xK0n85lAlkkI7OeUWLL2BhvE3S4SBy88ZYewhSVeHd8CZctI/N8J09DM
 KPHw3Fp2CKeHUeJy0wxGiCpriTvnfrGBwoxZQFNi/S59iLCjxJL+ucyQoOSTuPFWEOIIPolJ
 26ZDhXklOtqEIKrVJGYdXwe39uCFS8wTGJVmIXltFpJ3ZiF5ZxbC3gWMLKsYxVNLi3PTU4uN
 8lLL9YoTc4tL89L1kvNzNzEC0+Ppf8e/7GBc/uqj3iFGJg7GQ4wSHMxKIrxRO28nCPGmJFZW
 pRblxxeV5qQWH2KU5mBREudN2rImXkggPbEkNTs1tSC1CCbLxMEp1cC0/oaEkuesmdwNdcdm
 TVp5j0ue+cNbxwmFDz663Tg5fe3S5qi/alvVvHqXd3xyPSI+p4B7mrKVSNjT+01ajlO2Bhfv
 5X18qbJvizE75/zC3ocqOxa9cTjbvEno3iYGtsmyceHORmu82LKniF783h436Z2Arcmkd1rb
 jCXnl0/zfuQhY8X7ZNWqnLwPvt8cip4E+Uv/uG93bva18/4hcyNWffnFeCj138Q/UtpK9XE8
 dQzxEU1cWV2rX/t/E9jyxanDMoPlXM9ZX6P+KfUPlHfdFJG+ctij9abc/nves74zPmg6ruPB
 WT3TykH3ftjCi6Emupq2DytrNkosPFg154iTaw7THBvpSbmOrw/IpqcqsRRnJBpqMRcVJwIA
 pxdzOP4DAAA=
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFvrDIsWRmVeSWpSXmKPExsVy+t/xu7oCGXcSDPqXKllc2r6M1WLBfmuL
 htUXWC1WLbzGZtEyaxGLRefsDewWmx5fY7WYuP8su8XlXXPYLJ4v/MFscfDDE1aLJVMPsllM
 vvaN1aJvb5BFyx1Ti5tLN7A7CHg8OTiPyWPNvDWMHpf7epk8ds66y+7xeO5Gdo+WI29ZPTat
 6mTzuHNtD5vH5iX1HpNvLGf06G1+x+bxeZNcAE+Unk1RfmlJqkJGfnGJrVK0oYWRnqGlhZ6R
 iaWeobF5rJWRqZK+nU1Kak5mWWqRvl2CXsaf/2cYC6abVdzsmsLawLhbt4uRk0NCwERiesM+
 NhBbSGApo8SqjYoQcRmJk9MaWCFsYYk/17qAariAat4zSjw7swgsISzgK7HwyD5GEFsEyL55
 +Q8rSBGzwDIWib1tM9khptpJLFn2CcxmEzCU6HrbBbaNFyh+7nQXWJxFQFWipfM/2FBRgWSJ
 n+vboWoEJU7OfMICYnMK2EusO/8SrIZZwExi3uaHzBC2vETz1tlQtrjErSfzmSYwCs1C0j4L
 ScssJC2zkLQsYGRZxSiSWlqcm55bbKRXnJhbXJqXrpecn7uJEZgMth37uWUH48pXH/UOMTJx
 MB5ilOBgVhLhjdp5O0GINyWxsiq1KD++qDQntfgQoynQPxOZpUST84HpKK8k3tDMwNTQxMzS
 wNTSzFhJnNfkyJp4IYH0xJLU7NTUgtQimD4mDk6pBib29s/W86Yqrz+49uZsa5md7y/H5sif
 mTNPws3IvVNEcV1yQ4Qst0Bb19y8tX5/y69odUzfx1IffL1415HaF+dKd02buZsl77eqSaC+
 Y12q9Ynir9Nem/0zmud/ndHXw2919HaHE+nOPAkn/twRUFeR4dlpsDGpznyddkLTarujXvPO
 Hp+1vyo8gHV/rOeNE04t54+qJO33mr3j156+l2esHI5vsXaNnFzsk6t31fSkkN7mejMdRuYF
 Ea2r74a03zt454jHrseaksmGh5PstqUrG39x4gvljFBYfJ47KSpQeuKvgN0ZixT/sO58obbf
 7ulKBwuWTHZJn8MCTY0+X3+w6MrXC3+8qbTGQvFpiBJLcUaioRZzUXEiAG5LloOPAwAA
X-CMS-MailID: 20210630124816eucas1p27563f0a456c0196e20937619aa2f8d26
X-Msg-Generator: CA
X-RootMTR: 20210630124816eucas1p27563f0a456c0196e20937619aa2f8d26
X-EPHeader: CA
CMS-TYPE: 201P
X-CMS-RootMailID: 20210630124816eucas1p27563f0a456c0196e20937619aa2f8d26
References: <20210608164559.204023-1-ameynarkhede03@gmail.com>
 <CGME20210630124816eucas1p27563f0a456c0196e20937619aa2f8d26@eucas1p2.samsung.com>
Cc: Jean-Philippe Brucker <jean-philippe@linaro.org>,
 Will Deacon <will@kernel.org>, linux-kernel@vger.kernel.org,
 Jon Hunter <jonathanh@nvidia.com>, iommu@lists.linux-foundation.org,
 linux-arm-msm@vger.kernel.org, Robin Murphy <robin.murphy@arm.com>,
 linux-arm-kernel@lists.infradead.org
X-BeenThere: iommu@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Development issues for Linux IOMMU support
 <iommu.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/iommu>,
 <mailto:iommu-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/iommu/>
List-Post: <mailto:iommu@lists.linux-foundation.org>
List-Help: <mailto:iommu-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/iommu>,
 <mailto:iommu-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: iommu-bounces@lists.linux-foundation.org
Sender: "iommu" <iommu-bounces@lists.linux-foundation.org>

SGksCgpPbiAwOC4wNi4yMDIxIDE4OjQ1LCBBbWV5IE5hcmtoZWRlIHdyb3RlOgo+IElmIGRldmlj
ZSByZWdpc3RyYXRpb24gZmFpbHMsIHJlbW92ZSBzeXNmcyBhdHRyaWJ1dGUKPiBhbmQgaWYgc2V0
dGluZyBidXMgY2FsbGJhY2tzIGZhaWxzLCB1bnJlZ2lzdGVyIHRoZSBkZXZpY2UKPiBhbmQgY2xl
YW51cCB0aGUgc3lzZnMgYXR0cmlidXRlLgo+Cj4gU2lnbmVkLW9mZi1ieTogQW1leSBOYXJraGVk
ZSA8YW1leW5hcmtoZWRlMDNAZ21haWwuY29tPgoKVGhpcyBwYXRjaCBsYW5kZWQgaW4gbGludXgt
bmV4dCBzb21lIHRpbWUgYWdvIGFzIGNvbW1pdCAyNDljOWRjNmFhMGQgCigiaW9tbXUvYXJtOiBD
bGVhbnVwIHJlc291cmNlcyBpbiBjYXNlIG9mIHByb2JlIGVycm9yIHBhdGgiKS4gQWZ0ZXIgCmJp
c2VjdGluZyBhbmQgc29tZSBtYW51YWwgc2VhcmNoaW5nIEkgZmluYWxseSBmb3VuZCB0aGF0IGl0
IGlzIApyZXNwb25zaWJsZSBmb3IgYnJlYWtpbmcgczJpZGxlIG9uIERyYWdvbkJvYXJkIDQxMGMu
IEhlcmUgaXMgdGhlIGxvZyAKKGNhcHR1cmVkIHdpdGggbm9fY29uc29sZV9zdXNwZW5kKToKCiMg
dGltZSBydGN3YWtlIC1zMTAgLW1tZW0KcnRjd2FrZTogd2FrZXVwIGZyb20gIm1lbSIgdXNpbmcg
L2Rldi9ydGMwIGF0IFRodSBKYW7CoCAxIDAwOjAyOjEzIDE5NzAKUE06IHN1c3BlbmQgZW50cnkg
KHMyaWRsZSkKRmlsZXN5c3RlbXMgc3luYzogMC4wMDIgc2Vjb25kcwpGcmVlemluZyB1c2VyIHNw
YWNlIHByb2Nlc3NlcyAuLi4gKGVsYXBzZWQgMC4wMDYgc2Vjb25kcykgZG9uZS4KT09NIGtpbGxl
ciBkaXNhYmxlZC4KRnJlZXppbmcgcmVtYWluaW5nIGZyZWV6YWJsZSB0YXNrcyAuLi4gKGVsYXBz
ZWQgMC4wMDQgc2Vjb25kcykgZG9uZS4KVW5hYmxlIHRvIGhhbmRsZSBrZXJuZWwgTlVMTCBwb2lu
dGVyIGRlcmVmZXJlbmNlIGF0IHZpcnR1YWwgYWRkcmVzcyAKMDAwMDAwMDAwMDAwMDA3MApNZW0g
YWJvcnQgaW5mbzoKIMKgIEVTUiA9IDB4OTYwMDAwMDYKIMKgIEVDID0gMHgyNTogREFCVCAoY3Vy
cmVudCBFTCksIElMID0gMzIgYml0cwogwqAgU0VUID0gMCwgRm5WID0gMAogwqAgRUEgPSAwLCBT
MVBUVyA9IDAKIMKgIEZTQyA9IDB4MDY6IGxldmVsIDIgdHJhbnNsYXRpb24gZmF1bHQKRGF0YSBh
Ym9ydCBpbmZvOgogwqAgSVNWID0gMCwgSVNTID0gMHgwMDAwMDAwNgogwqAgQ00gPSAwLCBXblIg
PSAwCnVzZXIgcGd0YWJsZTogNGsgcGFnZXMsIDQ4LWJpdCBWQXMsIHBnZHA9MDAwMDAwMDA4YWQw
ODAwMApbMDAwMDAwMDAwMDAwMDA3MF0gcGdkPTA4MDAwMDAwODVjM2MwMDMsIHA0ZD0wODAwMDAw
MDg1YzNjMDAzLCAKcHVkPTA4MDAwMDAwODhkY2YwMDMsIHBtZD0wMDAwMDAwMDAwMDAwMDAwCklu
dGVybmFsIGVycm9yOiBPb3BzOiA5NjAwMDAwNiBbIzFdIFBSRUVNUFQgU01QCk1vZHVsZXMgbGlu
a2VkIGluOiBibHVldG9vdGggZWNkaF9nZW5lcmljIGVjYyByZmtpbGwgaXB2NiBheDg4Nzk2YiAK
dmVudXNfZW5jIHZlbnVzX2RlYyB2aWRlb2J1ZjJfZG1hX2NvbnRpZyBhc2l4IGNyY3QxMGRpZl9j
ZSBhZHY3NTExIApzbmRfc29jX21zbTg5MTZfYW5hbG9nIHFjb21fc3BtaV90ZW1wX2FsYXJtIHJ0
Y19wbTh4eHggcWNvbV9wb24gCnFjb21fY2Ftc3MgcWNvbV9zcG1pX3ZhZGMgdmlkZW9idWYyX2Rt
YV9zZyBxY29tX3ZhZGNfY29tbW9uIG1zbSAKdmVudXNfY29yZSB2NGwyX2Z3bm9kZSB2NGwyX2Fz
eW5jIHNuZF9zb2NfbXNtODkxNl9kaWdpdGFsIAp2aWRlb2J1ZjJfbWVtb3BzIHNuZF9zb2NfbHBh
c3NfYXBxODAxNiBzbmRfc29jX2xwYXNzX2NwdSB2NGwyX21lbTJtZW0gCnNuZF9zb2NfbHBhc3Nf
cGxhdGZvcm0gc25kX3NvY19hcHE4MDE2X3NiYyB2aWRlb2J1ZjJfdjRsMiAKc25kX3NvY19xY29t
X2NvbW1vbiBxY29tX3JuZyB2aWRlb2J1ZjJfY29tbW9uIGkyY19xY29tX2NjaSBxbm9jX21zbTg5
MTYgCnZpZGVvZGV2IG1jIGljY19zbWRfcnBtIG1kdF9sb2FkZXIgc29jaW5mbyBkaXNwbGF5X2Nv
bm5lY3RvciBybXRmc19tZW0KQ1BVOiAxIFBJRDogMTUyMiBDb21tOiBydGN3YWtlIE5vdCB0YWlu
dGVkIDUuMTMuMC1uZXh0LTIwMjEwNjI5ICMzNTkyCkhhcmR3YXJlIG5hbWU6IFF1YWxjb21tIFRl
Y2hub2xvZ2llcywgSW5jLiBBUFEgODAxNiBTQkMgKERUKQpwc3RhdGU6IDgwMDAwMDA1IChOemN2
IGRhaWYgLVBBTiAtVUFPIC1UQ08gQlRZUEU9LS0pCnBjIDogbXNtX3J1bnRpbWVfc3VzcGVuZCsw
eDFjLzB4NjAgW21zbV0KbHIgOiBtc21fcG1fc3VzcGVuZCsweDE4LzB4MzggW21zbV0KLi4uCkNh
bGwgdHJhY2U6CiDCoG1zbV9ydW50aW1lX3N1c3BlbmQrMHgxYy8weDYwIFttc21dCiDCoG1zbV9w
bV9zdXNwZW5kKzB4MTgvMHgzOCBbbXNtXQogwqBkcG1fcnVuX2NhbGxiYWNrKzB4ODQvMHgzNzgK
IMKgX19kZXZpY2Vfc3VzcGVuZCsweDExOC8weDY4MAogwqBkcG1fc3VzcGVuZCsweDE1MC8weDRm
MAogwqBkcG1fc3VzcGVuZF9zdGFydCsweDk4LzB4YTAKIMKgc3VzcGVuZF9kZXZpY2VzX2FuZF9l
bnRlcisweGZjLzB4YWYwCiDCoHBtX3N1c3BlbmQrMHgyYjAvMHgzZDAKIMKgc3RhdGVfc3RvcmUr
MHg4NC8weDEwOAogwqBrb2JqX2F0dHJfc3RvcmUrMHgxNC8weDI4CiDCoHN5c2ZzX2tmX3dyaXRl
KzB4NjAvMHg3MAogwqBrZXJuZnNfZm9wX3dyaXRlX2l0ZXIrMHgxMjQvMHgxYTgKIMKgbmV3X3N5
bmNfd3JpdGUrMHhlOC8weDFiMAogwqB2ZnNfd3JpdGUrMHgxZTgvMHg0NTAKIMKga3N5c193cml0
ZSsweDY0LzB4ZjAKIMKgX19hcm02NF9zeXNfd3JpdGUrMHgxNC8weDIwCiDCoGludm9rZV9zeXNj
YWxsKzB4NDAvMHhmOAogwqBlbDBfc3ZjX2NvbW1vbisweDYwLzB4MTAwCiDCoGRvX2VsMF9zdmNf
Y29tcGF0KzB4MWMvMHg0OAogwqBlbDBfc3ZjX2NvbXBhdCsweDIwLzB4MzAKIMKgZWwwdF8zMl9z
eW5jX2hhbmRsZXIrMHhlYy8weDE0MAogwqBlbDB0XzMyX3N5bmMrMHgxNjgvMHgxNmMKQ29kZTog
OTEwMDAzZmQgZjkwMDBiZjMgZjk0MDNjMDIgNTI4MDAwNDAgKGY5NDAzODQyKQotLS1bIGVuZCB0
cmFjZSAyMTViNzJmY2Q3MDI2OTQ3IF0tLS0KClJldmVydGluZyBpdCBvbiB0b3Agb2YgbGludXgt
bmV4dCBmaXhlcyBzMmlkbGUgb2VwcmF0aW9uIG9uIHRoYXQgYm9hcmQuCgo+IC0tLQo+ICAgZHJp
dmVycy9pb21tdS9hcm0vYXJtLXNtbXUtdjMvYXJtLXNtbXUtdjMuYyB8IDE0ICsrKysrKysrKysr
Ky0tCj4gICBkcml2ZXJzL2lvbW11L2FybS9hcm0tc21tdS9hcm0tc21tdS5jICAgICAgIHwgMTUg
KysrKysrKysrKysrLS0tCj4gICBkcml2ZXJzL2lvbW11L2FybS9hcm0tc21tdS9xY29tX2lvbW11
LmMgICAgIHwgMTMgKysrKysrKysrKystLQo+ICAgMyBmaWxlcyBjaGFuZ2VkLCAzNSBpbnNlcnRp
b25zKCspLCA3IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvaW9tbXUvYXJt
L2FybS1zbW11LXYzL2FybS1zbW11LXYzLmMgYi9kcml2ZXJzL2lvbW11L2FybS9hcm0tc21tdS12
My9hcm0tc21tdS12My5jCj4gaW5kZXggNTRiMmYyN2I4MWQ0Li5kZTI0OTk3NTQwMjUgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9pb21tdS9hcm0vYXJtLXNtbXUtdjMvYXJtLXNtbXUtdjMuYwo+ICsr
KyBiL2RyaXZlcnMvaW9tbXUvYXJtL2FybS1zbW11LXYzL2FybS1zbW11LXYzLmMKPiBAQCAtMzY2
OSwxMCArMzY2OSwyMCBAQCBzdGF0aWMgaW50IGFybV9zbW11X2RldmljZV9wcm9iZShzdHJ1Y3Qg
cGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICAgCXJldCA9IGlvbW11X2RldmljZV9yZWdpc3Rlcigm
c21tdS0+aW9tbXUsICZhcm1fc21tdV9vcHMsIGRldik7Cj4gICAJaWYgKHJldCkgewo+ICAgCQlk
ZXZfZXJyKGRldiwgIkZhaWxlZCB0byByZWdpc3RlciBpb21tdVxuIik7Cj4gLQkJcmV0dXJuIHJl
dDsKPiArCQlnb3RvIGVycl9zeXNmc19yZW1vdmU7Cj4gICAJfQo+Cj4gLQlyZXR1cm4gYXJtX3Nt
bXVfc2V0X2J1c19vcHMoJmFybV9zbW11X29wcyk7Cj4gKwlyZXQgPSBhcm1fc21tdV9zZXRfYnVz
X29wcygmYXJtX3NtbXVfb3BzKTsKPiArCWlmIChyZXQpCj4gKwkJZ290byBlcnJfdW5yZWdpc3Rl
cl9kZXZpY2U7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gKwo+ICtlcnJfdW5yZWdpc3Rlcl9kZXZpY2U6
Cj4gKwlpb21tdV9kZXZpY2VfdW5yZWdpc3Rlcigmc21tdS0+aW9tbXUpOwo+ICtlcnJfc3lzZnNf
cmVtb3ZlOgo+ICsJaW9tbXVfZGV2aWNlX3N5c2ZzX3JlbW92ZSgmc21tdS0+aW9tbXUpOwo+ICsJ
cmV0dXJuIHJldDsKPiAgIH0KPgo+ICAgc3RhdGljIGludCBhcm1fc21tdV9kZXZpY2VfcmVtb3Zl
KHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvaW9t
bXUvYXJtL2FybS1zbW11L2FybS1zbW11LmMgYi9kcml2ZXJzL2lvbW11L2FybS9hcm0tc21tdS9h
cm0tc21tdS5jCj4gaW5kZXggNmY3MmM0ZDIwOGNhLi44OGEzMDIzNjc2Y2UgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9pb21tdS9hcm0vYXJtLXNtbXUvYXJtLXNtbXUuYwo+ICsrKyBiL2RyaXZlcnMv
aW9tbXUvYXJtL2FybS1zbW11L2FybS1zbW11LmMKPiBAQCAtMjE2NCw3ICsyMTY0LDcgQEAgc3Rh
dGljIGludCBhcm1fc21tdV9kZXZpY2VfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRl
dikKPiAgIAllcnIgPSBpb21tdV9kZXZpY2VfcmVnaXN0ZXIoJnNtbXUtPmlvbW11LCAmYXJtX3Nt
bXVfb3BzLCBkZXYpOwo+ICAgCWlmIChlcnIpIHsKPiAgIAkJZGV2X2VycihkZXYsICJGYWlsZWQg
dG8gcmVnaXN0ZXIgaW9tbXVcbiIpOwo+IC0JCXJldHVybiBlcnI7Cj4gKwkJZ290byBlcnJfc3lz
ZnNfcmVtb3ZlOwo+ICAgCX0KPgo+ICAgCXBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIHNtbXUp
Owo+IEBAIC0yMTg3LDEwICsyMTg3LDE5IEBAIHN0YXRpYyBpbnQgYXJtX3NtbXVfZGV2aWNlX3By
b2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gICAJICogYW55IGRldmljZSB3aGlj
aCBtaWdodCBuZWVkIGl0LCBzbyB3ZSB3YW50IHRoZSBidXMgb3BzIGluIHBsYWNlCj4gICAJICog
cmVhZHkgdG8gaGFuZGxlIGRlZmF1bHQgZG9tYWluIHNldHVwIGFzIHNvb24gYXMgYW55IFNNTVUg
ZXhpc3RzLgo+ICAgCSAqLwo+IC0JaWYgKCF1c2luZ19sZWdhY3lfYmluZGluZykKPiAtCQlyZXR1
cm4gYXJtX3NtbXVfYnVzX2luaXQoJmFybV9zbW11X29wcyk7Cj4gKwlpZiAoIXVzaW5nX2xlZ2Fj
eV9iaW5kaW5nKSB7Cj4gKwkJZXJyID0gYXJtX3NtbXVfYnVzX2luaXQoJmFybV9zbW11X29wcyk7
Cj4gKwkJaWYgKGVycikKPiArCQkJZ290byBlcnJfdW5yZWdpc3Rlcl9kZXZpY2U7Cj4gKwl9Cj4K
PiAgIAlyZXR1cm4gMDsKPiArCj4gK2Vycl91bnJlZ2lzdGVyX2RldmljZToKPiArCWlvbW11X2Rl
dmljZV91bnJlZ2lzdGVyKCZzbW11LT5pb21tdSk7Cj4gK2Vycl9zeXNmc19yZW1vdmU6Cj4gKwlp
b21tdV9kZXZpY2Vfc3lzZnNfcmVtb3ZlKCZzbW11LT5pb21tdSk7Cj4gKwlyZXR1cm4gZXJyOwo+
ICAgfQo+Cj4gICBzdGF0aWMgaW50IGFybV9zbW11X2RldmljZV9yZW1vdmUoc3RydWN0IHBsYXRm
b3JtX2RldmljZSAqcGRldikKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9pb21tdS9hcm0vYXJtLXNt
bXUvcWNvbV9pb21tdS5jIGIvZHJpdmVycy9pb21tdS9hcm0vYXJtLXNtbXUvcWNvbV9pb21tdS5j
Cj4gaW5kZXggNDI5NGFiZTM4OWIyLi5iNzg1ZDlmYjc2MDIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9pb21tdS9hcm0vYXJtLXNtbXUvcWNvbV9pb21tdS5jCj4gKysrIGIvZHJpdmVycy9pb21tdS9h
cm0vYXJtLXNtbXUvcWNvbV9pb21tdS5jCj4gQEAgLTg1MCwxMCArODUwLDEyIEBAIHN0YXRpYyBp
bnQgcWNvbV9pb21tdV9kZXZpY2VfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikK
PiAgIAlyZXQgPSBpb21tdV9kZXZpY2VfcmVnaXN0ZXIoJnFjb21faW9tbXUtPmlvbW11LCAmcWNv
bV9pb21tdV9vcHMsIGRldik7Cj4gICAJaWYgKHJldCkgewo+ICAgCQlkZXZfZXJyKGRldiwgIkZh
aWxlZCB0byByZWdpc3RlciBpb21tdVxuIik7Cj4gLQkJcmV0dXJuIHJldDsKPiArCQlnb3RvIGVy
cl9zeXNmc19yZW1vdmU7Cj4gICAJfQo+Cj4gLQlidXNfc2V0X2lvbW11KCZwbGF0Zm9ybV9idXNf
dHlwZSwgJnFjb21faW9tbXVfb3BzKTsKPiArCXJldCA9IGJ1c19zZXRfaW9tbXUoJnBsYXRmb3Jt
X2J1c190eXBlLCAmcWNvbV9pb21tdV9vcHMpOwo+ICsJaWYgKHJldCkKPiArCQlnb3RvIGVycl91
bnJlZ2lzdGVyX2RldmljZTsKPgo+ICAgCWlmIChxY29tX2lvbW11LT5sb2NhbF9iYXNlKSB7Cj4g
ICAJCXBtX3J1bnRpbWVfZ2V0X3N5bmMoZGV2KTsKPiBAQCAtODYyLDYgKzg2NCwxMyBAQCBzdGF0
aWMgaW50IHFjb21faW9tbXVfZGV2aWNlX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBk
ZXYpCj4gICAJfQo+Cj4gICAJcmV0dXJuIDA7Cj4gKwo+ICtlcnJfdW5yZWdpc3Rlcl9kZXZpY2U6
Cj4gKwlpb21tdV9kZXZpY2VfdW5yZWdpc3RlcigmcWNvbV9pb21tdS0+aW9tbXUpOwo+ICsKPiAr
ZXJyX3N5c2ZzX3JlbW92ZToKPiArCWlvbW11X2RldmljZV9zeXNmc19yZW1vdmUoJnFjb21faW9t
bXUtPmlvbW11KTsKPiArCXJldHVybiByZXQ7Cj4gICB9Cj4KPiAgIHN0YXRpYyBpbnQgcWNvbV9p
b21tdV9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCj4gLS0KPiAy
LjMxLjEKPgpCZXN0IHJlZ2FyZHMKLS0gCk1hcmVrIFN6eXByb3dza2ksIFBoRApTYW1zdW5nIFIm
RCBJbnN0aXR1dGUgUG9sYW5kCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwppb21tdSBtYWlsaW5nIGxpc3QKaW9tbXVAbGlzdHMubGludXgtZm91bmRhdGlv
bi5vcmcKaHR0cHM6Ly9saXN0cy5saW51eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8v
aW9tbXU=
