Return-Path: <iommu-bounces@lists.linux-foundation.org>
X-Original-To: lists.iommu@lfdr.de
Delivered-To: lists.iommu@lfdr.de
Received: from mail.linuxfoundation.org (mail.linuxfoundation.org [140.211.169.12])
	by mail.lfdr.de (Postfix) with ESMTPS id 258D6E704A
	for <lists.iommu@lfdr.de>; Mon, 28 Oct 2019 12:21:53 +0100 (CET)
Received: from mail.linux-foundation.org (localhost [127.0.0.1])
	by mail.linuxfoundation.org (Postfix) with ESMTP id 95D641133;
	Mon, 28 Oct 2019 11:21:03 +0000 (UTC)
X-Original-To: iommu@lists.linux-foundation.org
Delivered-To: iommu@mail.linuxfoundation.org
Received: from smtp1.linuxfoundation.org (smtp1.linux-foundation.org
	[172.17.192.35])
	by mail.linuxfoundation.org (Postfix) with ESMTPS id D1B6FB1F
	for <iommu@lists.linux-foundation.org>;
	Mon, 28 Oct 2019 08:29:04 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mailgw02.mediatek.com (unknown [210.61.82.184])
	by smtp1.linuxfoundation.org (Postfix) with ESMTP id D71BA42D
	for <iommu@lists.linux-foundation.org>;
	Mon, 28 Oct 2019 08:29:03 +0000 (UTC)
X-UUID: 5cf853185f3343b2900ae2ba9dbdf640-20191028
X-UUID: 5cf853185f3343b2900ae2ba9dbdf640-20191028
Received: from mtkexhb02.mediatek.inc [(172.21.101.103)] by
	mailgw02.mediatek.com (envelope-from <chao.hao@mediatek.com>)
	(Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
	with ESMTP id 149267148; Mon, 28 Oct 2019 16:29:01 +0800
Received: from mtkcas08.mediatek.inc (172.21.101.126) by
	mtkmbs06n2.mediatek.inc (172.21.101.130) with Microsoft SMTP Server
	(TLS) id 15.0.1395.4; Mon, 28 Oct 2019 16:28:59 +0800
Received: from localhost.localdomain (10.15.20.246) by mtkcas08.mediatek.inc
	(172.21.101.73) with Microsoft SMTP Server id 15.0.1395.4 via Frontend
	Transport; Mon, 28 Oct 2019 16:28:56 +0800
From: Chao Hao <chao.hao@mediatek.com>
To: Joerg Roedel <joro@8bytes.org>, Rob Herring <robh+dt@kernel.org>, Matthias
	Brugger <matthias.bgg@gmail.com>
Subject: [PATCH 09/13] iommu/mediatek: Remove the usage of m4u_dom variable
Date: Mon, 28 Oct 2019 16:28:16 +0800
Message-ID: <20191028082820.20221-10-chao.hao@mediatek.com>
X-Mailer: git-send-email 2.18.0
In-Reply-To: <20191028082820.20221-1-chao.hao@mediatek.com>
References: <20191028082820.20221-1-chao.hao@mediatek.com>
MIME-Version: 1.0
X-TM-SNTS-SMTP: E6DAAF6F1FB7DC544D8AF43EAB395DA4814A94CC3C392803A32AA6AF3A38C33B2000:8
X-Spam-Status: No, score=-0.2 required=5.0 tests=BAYES_00,HTML_MESSAGE,
	MAY_BE_FORGED, MIME_BASE64_TEXT,
	UNPARSEABLE_RELAY autolearn=ham version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	smtp1.linux-foundation.org
X-Mailman-Approved-At: Mon, 28 Oct 2019 11:21:00 +0000
Cc: Anan Sun <anan.sun@mediatek.com>, devicetree@vger.kernel.org,
	Cui Zhang <cui.zhang@mediatek.com>,
	Jun Yan <jun.yan@mediatek.com>, wsd_upstream@mediatek.com,
	linux-kernel@vger.kernel.org, Chao Hao <chao.hao@mediatek.com>,
	iommu@lists.linux-foundation.org, linux-mediatek@lists.infradead.org,
	Miles Chen <miles.chen@mediatek.com>, linux-arm-kernel@lists.infradead.org,
	Guangming Cao <guangming.cao@mediatek.com>
X-BeenThere: iommu@lists.linux-foundation.org
X-Mailman-Version: 2.1.12
Precedence: list
List-Id: Development issues for Linux IOMMU support
	<iommu.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/iommu>,
	<mailto:iommu-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/iommu/>
List-Post: <mailto:iommu@lists.linux-foundation.org>
List-Help: <mailto:iommu-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/iommu>,
	<mailto:iommu-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============5181444029077008827=="
Sender: iommu-bounces@lists.linux-foundation.org
Errors-To: iommu-bounces@lists.linux-foundation.org

--===============5181444029077008827==
Content-Type: multipart/alternative;
	boundary="__=_Part_Boundary_008_1853518908.2047213007"

--__=_Part_Boundary_008_1853518908.2047213007
Content-Type: text/html
Content-Transfer-Encoding: base64

PHByZT4NClRoaXMgcGF0Y2ggd2lsbCByZW1vdmUgdGhlIHVzYWdlIG9mIHRoZSBtNHVfZG9tIHZh
cmlhYmxlLg0KDQpXZSBoYXZlIGFscmVhZHkgcmVkZWZpbmVkIG10a19pb21tdV9kb21haW4gc3Ry
dWN0dXJlIGFuZCBpdA0KaW5jbHVkZXMgaW9tbXVfZG9tYWluLCBzbyBtNHVfZG9tIHZhcmlhYmxl
IHdpbGwgbm90IGJlIHVzZWQuDQoNClNpZ25lZC1vZmYtYnk6IENoYW8gSGFvICZsdDtjaGFvLmhh
b0BtZWRpYXRlay5jb20mZ3Q7DQotLS0NCiBkcml2ZXJzL2lvbW11L210a19pb21tdS5jIHwgMjcg
KysrKysrKysrKysrKysrKysrKystLS0tLS0tDQogMSBmaWxlIGNoYW5nZWQsIDIwIGluc2VydGlv
bnMoKyksIDcgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2lvbW11L210a19p
b21tdS5jIGIvZHJpdmVycy9pb21tdS9tdGtfaW9tbXUuYw0KaW5kZXggOGQ2OGExYWY4ZWQ1Li40
MmZhZDFjZjczZjMgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2lvbW11L210a19pb21tdS5jDQorKysg
Yi9kcml2ZXJzL2lvbW11L210a19pb21tdS5jDQpAQCAtMTEzLDYgKzExMyw3IEBADQogICogR2V0
IHRoZSBsb2NhbCBhcmJpdGVyIElEIGFuZCB0aGUgcG9ydGlkIHdpdGhpbiB0aGUgbGFyYiBhcmJp
dGVyDQogICogZnJvbSBtdGtfbTR1X2lkIHdoaWNoIGlzIGRlZmluZWQgYnkgTVRLX000VV9JRC4N
CiAgKi8NCisjZGVmaW5lIE1US19NNFVfSUQobGFyYiwgcG9ydCkJCSgoKGxhcmIpICZsdDsmbHQ7
IDUpIHwgKHBvcnQpKQ0KICNkZWZpbmUgTVRLX000VV9UT19MQVJCKGlkKQkJKCgoaWQpICZndDsm
Z3Q7IDUpICZhbXA7IDB4ZikNCiAjZGVmaW5lIE1US19NNFVfVE9fUE9SVChpZCkJCSgoaWQpICZh
bXA7IDB4MWYpDQogDQpAQCAtMjA1LDYgKzIwNiwyMiBAQCBzdGF0aWMgdTMyIG10a19pb21tdV9n
ZXRfZG9tYWluX2lkKHN0cnVjdCBkZXZpY2UgKmRldikNCiAJcmV0dXJuIGdldF9kb21haW5faWQo
ZGF0YSwgcG9ydGlkKTsNCiB9DQogDQorc3RhdGljIHN0cnVjdCBpb21tdV9kb21haW4gKl9nZXRf
bXRrX2RvbWFpbihzdHJ1Y3QgbXRrX2lvbW11X2RhdGEgKmRhdGEsDQorCQkJCQkgICAgdTMyIGxh
cmJpZCwgdTMyIHBvcnRpZCkNCit7DQorCXUzMiBkb21haW5faWQ7DQorCXUzMiBwb3J0X21hc2sg
PSBNVEtfTTRVX0lEKGxhcmJpZCwgcG9ydGlkKTsNCisJc3RydWN0IG10a19pb21tdV9kb21haW4g
KmRvbTsNCisNCisJZG9tYWluX2lkID0gZ2V0X2RvbWFpbl9pZChkYXRhLCBwb3J0X21hc2spOw0K
Kw0KKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KGRvbSwgJmFtcDtkYXRhLSZndDtwZ3RhYmxlLSZndDtt
NHVfZG9tX3YyLCBsaXN0KSB7DQorCQlpZiAoZG9tLSZndDtpZCA9PSBkb21haW5faWQpDQorCQkJ
cmV0dXJuICZhbXA7ZG9tLSZndDtkb21haW47DQorCX0NCisJcmV0dXJuIE5VTEw7DQorfQ0KKw0K
IHN0YXRpYyBzdHJ1Y3QgbXRrX2lvbW11X2RvbWFpbiAqZ2V0X210a19kb21haW4oc3RydWN0IGRl
dmljZSAqZGV2KQ0KIHsNCiAJc3RydWN0IG10a19pb21tdV9kYXRhICpkYXRhID0gZGV2LSZndDtp
b21tdV9md3NwZWMtJmd0O2lvbW11X3ByaXY7DQpAQCAtMzA3LDcgKzMyNCw3IEBAIHN0YXRpYyBj
b25zdCBzdHJ1Y3QgaW9tbXVfZmx1c2hfb3BzIG10a19pb21tdV9mbHVzaF9vcHMgPSB7DQogc3Rh
dGljIGlycXJldHVybl90IG10a19pb21tdV9pc3IoaW50IGlycSwgdm9pZCAqZGV2X2lkKQ0KIHsN
CiAJc3RydWN0IG10a19pb21tdV9kYXRhICpkYXRhID0gZGV2X2lkOw0KLQlzdHJ1Y3QgbXRrX2lv
bW11X2RvbWFpbiAqZG9tID0gZGF0YS0mZ3Q7bTR1X2RvbTsNCisJc3RydWN0IGlvbW11X2RvbWFp
biAqZG9tYWluOw0KIAl1MzIgaW50X3N0YXRlLCByZWd2YWwsIGZhdWx0X2lvdmEsIGZhdWx0X3Bh
Ow0KIAl1bnNpZ25lZCBpbnQgZmF1bHRfbGFyYiwgZmF1bHRfcG9ydCwgc3ViX2NvbW0gPSAwOw0K
IAlib29sIGxheWVyLCB3cml0ZTsNCkBAIC0zNDIsNyArMzU5LDggQEAgc3RhdGljIGlycXJldHVy
bl90IG10a19pb21tdV9pc3IoaW50IGlycSwgdm9pZCAqZGV2X2lkKQ0KIA0KIAlmYXVsdF9sYXJi
ID0gZGF0YS0mZ3Q7cGxhdF9kYXRhLSZndDtsYXJiaWRfcmVtYXBbZGF0YS0mZ3Q7bTR1X2lkXVtm
YXVsdF9sYXJiXTsNCiANCi0JaWYgKHJlcG9ydF9pb21tdV9mYXVsdCgmYW1wO2RvbS0mZ3Q7ZG9t
YWluLCBkYXRhLSZndDtkZXYsIGZhdWx0X2lvdmEsDQorCWRvbWFpbiA9IF9nZXRfbXRrX2RvbWFp
bihkYXRhLCBmYXVsdF9sYXJiLCBmYXVsdF9wb3J0KTsNCisJaWYgKHJlcG9ydF9pb21tdV9mYXVs
dChkb21haW4sIGRhdGEtJmd0O2RldiwgZmF1bHRfaW92YSwNCiAJCQkgICAgICAgd3JpdGUgPyBJ
T01NVV9GQVVMVF9XUklURSA6IElPTU1VX0ZBVUxUX1JFQUQpKSB7DQogCQlkZXZfZXJyX3JhdGVs
aW1pdGVkKA0KIAkJCWRhdGEtJmd0O2RldiwNCkBAIC01MTIsMTYgKzUzMCwxMSBAQCBzdGF0aWMg
dm9pZCBtdGtfaW9tbXVfZG9tYWluX2ZyZWUoc3RydWN0IGlvbW11X2RvbWFpbiAqZG9tYWluKQ0K
IHN0YXRpYyBpbnQgbXRrX2lvbW11X2F0dGFjaF9kZXZpY2Uoc3RydWN0IGlvbW11X2RvbWFpbiAq
ZG9tYWluLA0KIAkJCQkgICBzdHJ1Y3QgZGV2aWNlICpkZXYpDQogew0KLQlzdHJ1Y3QgbXRrX2lv
bW11X2RvbWFpbiAqZG9tID0gdG9fbXRrX2RvbWFpbihkb21haW4pOw0KIAlzdHJ1Y3QgbXRrX2lv
bW11X2RhdGEgKmRhdGEgPSBkZXZfaW9tbXVfZndzcGVjX2dldChkZXYpLSZndDtpb21tdV9wcml2
Ow0KIA0KIAlpZiAoIWRhdGEpDQogCQlyZXR1cm4gLUVOT0RFVjsNCiANCi0JLyogVXBkYXRlIHRo
ZSBwZ3RhYmxlIGJhc2UgYWRkcmVzcyByZWdpc3RlciBvZiB0aGUgTTRVIEhXICovDQotCWlmICgh
ZGF0YS0mZ3Q7bTR1X2RvbSkNCi0JCWRhdGEtJmd0O200dV9kb20gPSBkb207DQotDQogCW10a19p
b21tdV9jb25maWcoZGF0YSwgZGV2LCB0cnVlKTsNCiAJcmV0dXJuIDA7DQogfQ0KLS0gDQoyLjE4
LjANCg0KPC9wcmU+PCEtLXR5cGU6dGV4dC0tPjwhLS17LS0+PHByZT4qKioqKioqKioqKioqIE1F
RElBVEVLIENvbmZpZGVudGlhbGl0eSBOb3RpY2UNCiAqKioqKioqKioqKioqKioqKioqKg0KVGhl
IGluZm9ybWF0aW9uIGNvbnRhaW5lZCBpbiB0aGlzIGUtbWFpbCBtZXNzYWdlIChpbmNsdWRpbmcg
YW55IA0KYXR0YWNobWVudHMpIG1heSBiZSBjb25maWRlbnRpYWwsIHByb3ByaWV0YXJ5LCBwcml2
aWxlZ2VkLCBvciBvdGhlcndpc2UNCmV4ZW1wdCBmcm9tIGRpc2Nsb3N1cmUgdW5kZXIgYXBwbGlj
YWJsZSBsYXdzLiBJdCBpcyBpbnRlbmRlZCB0byBiZSANCmNvbnZleWVkIG9ubHkgdG8gdGhlIGRl
c2lnbmF0ZWQgcmVjaXBpZW50KHMpLiBBbnkgdXNlLCBkaXNzZW1pbmF0aW9uLCANCmRpc3RyaWJ1
dGlvbiwgcHJpbnRpbmcsIHJldGFpbmluZyBvciBjb3B5aW5nIG9mIHRoaXMgZS1tYWlsIChpbmNs
dWRpbmcgaXRzIA0KYXR0YWNobWVudHMpIGJ5IHVuaW50ZW5kZWQgcmVjaXBpZW50KHMpIGlzIHN0
cmljdGx5IHByb2hpYml0ZWQgYW5kIG1heSANCmJlIHVubGF3ZnVsLiBJZiB5b3UgYXJlIG5vdCBh
biBpbnRlbmRlZCByZWNpcGllbnQgb2YgdGhpcyBlLW1haWwsIG9yIGJlbGlldmUNCiANCnRoYXQg
eW91IGhhdmUgcmVjZWl2ZWQgdGhpcyBlLW1haWwgaW4gZXJyb3IsIHBsZWFzZSBub3RpZnkgdGhl
IHNlbmRlciANCmltbWVkaWF0ZWx5IChieSByZXBseWluZyB0byB0aGlzIGUtbWFpbCksIGRlbGV0
ZSBhbnkgYW5kIGFsbCBjb3BpZXMgb2YgDQp0aGlzIGUtbWFpbCAoaW5jbHVkaW5nIGFueSBhdHRh
Y2htZW50cykgZnJvbSB5b3VyIHN5c3RlbSwgYW5kIGRvIG5vdA0KZGlzY2xvc2UgdGhlIGNvbnRl
bnQgb2YgdGhpcyBlLW1haWwgdG8gYW55IG90aGVyIHBlcnNvbi4gVGhhbmsgeW91IQ0KPC9wcmU+
PCEtLX0tLT4=

--__=_Part_Boundary_008_1853518908.2047213007
Content-Type: text/plain
Content-Transfer-Encoding: base64

VGhpcyBwYXRjaCB3aWxsIHJlbW92ZSB0aGUgdXNhZ2Ugb2YgdGhlIG00dV9kb20gdmFyaWFibGUu
DQoNCldlIGhhdmUgYWxyZWFkeSByZWRlZmluZWQgbXRrX2lvbW11X2RvbWFpbiBzdHJ1Y3R1cmUg
YW5kIGl0DQppbmNsdWRlcyBpb21tdV9kb21haW4sIHNvIG00dV9kb20gdmFyaWFibGUgd2lsbCBu
b3QgYmUgdXNlZC4NCg0KU2lnbmVkLW9mZi1ieTogQ2hhbyBIYW8gPGNoYW8uaGFvQG1lZGlhdGVr
LmNvbT4NCi0tLQ0KIGRyaXZlcnMvaW9tbXUvbXRrX2lvbW11LmMgfCAyNyArKysrKysrKysrKysr
KysrKysrKy0tLS0tLS0NCiAxIGZpbGUgY2hhbmdlZCwgMjAgaW5zZXJ0aW9ucygrKSwgNyBkZWxl
dGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvaW9tbXUvbXRrX2lvbW11LmMgYi9kcml2
ZXJzL2lvbW11L210a19pb21tdS5jDQppbmRleCA4ZDY4YTFhZjhlZDUuLjQyZmFkMWNmNzNmMyAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvaW9tbXUvbXRrX2lvbW11LmMNCisrKyBiL2RyaXZlcnMvaW9t
bXUvbXRrX2lvbW11LmMNCkBAIC0xMTMsNiArMTEzLDcgQEANCiAgKiBHZXQgdGhlIGxvY2FsIGFy
Yml0ZXIgSUQgYW5kIHRoZSBwb3J0aWQgd2l0aGluIHRoZSBsYXJiIGFyYml0ZXINCiAgKiBmcm9t
IG10a19tNHVfaWQgd2hpY2ggaXMgZGVmaW5lZCBieSBNVEtfTTRVX0lELg0KICAqLw0KKyNkZWZp
bmUgTVRLX000VV9JRChsYXJiLCBwb3J0KQkJKCgobGFyYikgPDwgNSkgfCAocG9ydCkpDQogI2Rl
ZmluZSBNVEtfTTRVX1RPX0xBUkIoaWQpCQkoKChpZCkgPj4gNSkgJiAweGYpDQogI2RlZmluZSBN
VEtfTTRVX1RPX1BPUlQoaWQpCQkoKGlkKSAmIDB4MWYpDQogDQpAQCAtMjA1LDYgKzIwNiwyMiBA
QCBzdGF0aWMgdTMyIG10a19pb21tdV9nZXRfZG9tYWluX2lkKHN0cnVjdCBkZXZpY2UgKmRldikN
CiAJcmV0dXJuIGdldF9kb21haW5faWQoZGF0YSwgcG9ydGlkKTsNCiB9DQogDQorc3RhdGljIHN0
cnVjdCBpb21tdV9kb21haW4gKl9nZXRfbXRrX2RvbWFpbihzdHJ1Y3QgbXRrX2lvbW11X2RhdGEg
KmRhdGEsDQorCQkJCQkgICAgdTMyIGxhcmJpZCwgdTMyIHBvcnRpZCkNCit7DQorCXUzMiBkb21h
aW5faWQ7DQorCXUzMiBwb3J0X21hc2sgPSBNVEtfTTRVX0lEKGxhcmJpZCwgcG9ydGlkKTsNCisJ
c3RydWN0IG10a19pb21tdV9kb21haW4gKmRvbTsNCisNCisJZG9tYWluX2lkID0gZ2V0X2RvbWFp
bl9pZChkYXRhLCBwb3J0X21hc2spOw0KKw0KKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KGRvbSwgJmRh
dGEtPnBndGFibGUtPm00dV9kb21fdjIsIGxpc3QpIHsNCisJCWlmIChkb20tPmlkID09IGRvbWFp
bl9pZCkNCisJCQlyZXR1cm4gJmRvbS0+ZG9tYWluOw0KKwl9DQorCXJldHVybiBOVUxMOw0KK30N
CisNCiBzdGF0aWMgc3RydWN0IG10a19pb21tdV9kb21haW4gKmdldF9tdGtfZG9tYWluKHN0cnVj
dCBkZXZpY2UgKmRldikNCiB7DQogCXN0cnVjdCBtdGtfaW9tbXVfZGF0YSAqZGF0YSA9IGRldi0+
aW9tbXVfZndzcGVjLT5pb21tdV9wcml2Ow0KQEAgLTMwNyw3ICszMjQsNyBAQCBzdGF0aWMgY29u
c3Qgc3RydWN0IGlvbW11X2ZsdXNoX29wcyBtdGtfaW9tbXVfZmx1c2hfb3BzID0gew0KIHN0YXRp
YyBpcnFyZXR1cm5fdCBtdGtfaW9tbXVfaXNyKGludCBpcnEsIHZvaWQgKmRldl9pZCkNCiB7DQog
CXN0cnVjdCBtdGtfaW9tbXVfZGF0YSAqZGF0YSA9IGRldl9pZDsNCi0Jc3RydWN0IG10a19pb21t
dV9kb21haW4gKmRvbSA9IGRhdGEtPm00dV9kb207DQorCXN0cnVjdCBpb21tdV9kb21haW4gKmRv
bWFpbjsNCiAJdTMyIGludF9zdGF0ZSwgcmVndmFsLCBmYXVsdF9pb3ZhLCBmYXVsdF9wYTsNCiAJ
dW5zaWduZWQgaW50IGZhdWx0X2xhcmIsIGZhdWx0X3BvcnQsIHN1Yl9jb21tID0gMDsNCiAJYm9v
bCBsYXllciwgd3JpdGU7DQpAQCAtMzQyLDcgKzM1OSw4IEBAIHN0YXRpYyBpcnFyZXR1cm5fdCBt
dGtfaW9tbXVfaXNyKGludCBpcnEsIHZvaWQgKmRldl9pZCkNCiANCiAJZmF1bHRfbGFyYiA9IGRh
dGEtPnBsYXRfZGF0YS0+bGFyYmlkX3JlbWFwW2RhdGEtPm00dV9pZF1bZmF1bHRfbGFyYl07DQog
DQotCWlmIChyZXBvcnRfaW9tbXVfZmF1bHQoJmRvbS0+ZG9tYWluLCBkYXRhLT5kZXYsIGZhdWx0
X2lvdmEsDQorCWRvbWFpbiA9IF9nZXRfbXRrX2RvbWFpbihkYXRhLCBmYXVsdF9sYXJiLCBmYXVs
dF9wb3J0KTsNCisJaWYgKHJlcG9ydF9pb21tdV9mYXVsdChkb21haW4sIGRhdGEtPmRldiwgZmF1
bHRfaW92YSwNCiAJCQkgICAgICAgd3JpdGUgPyBJT01NVV9GQVVMVF9XUklURSA6IElPTU1VX0ZB
VUxUX1JFQUQpKSB7DQogCQlkZXZfZXJyX3JhdGVsaW1pdGVkKA0KIAkJCWRhdGEtPmRldiwNCkBA
IC01MTIsMTYgKzUzMCwxMSBAQCBzdGF0aWMgdm9pZCBtdGtfaW9tbXVfZG9tYWluX2ZyZWUoc3Ry
dWN0IGlvbW11X2RvbWFpbiAqZG9tYWluKQ0KIHN0YXRpYyBpbnQgbXRrX2lvbW11X2F0dGFjaF9k
ZXZpY2Uoc3RydWN0IGlvbW11X2RvbWFpbiAqZG9tYWluLA0KIAkJCQkgICBzdHJ1Y3QgZGV2aWNl
ICpkZXYpDQogew0KLQlzdHJ1Y3QgbXRrX2lvbW11X2RvbWFpbiAqZG9tID0gdG9fbXRrX2RvbWFp
bihkb21haW4pOw0KIAlzdHJ1Y3QgbXRrX2lvbW11X2RhdGEgKmRhdGEgPSBkZXZfaW9tbXVfZndz
cGVjX2dldChkZXYpLT5pb21tdV9wcml2Ow0KIA0KIAlpZiAoIWRhdGEpDQogCQlyZXR1cm4gLUVO
T0RFVjsNCiANCi0JLyogVXBkYXRlIHRoZSBwZ3RhYmxlIGJhc2UgYWRkcmVzcyByZWdpc3RlciBv
ZiB0aGUgTTRVIEhXICovDQotCWlmICghZGF0YS0+bTR1X2RvbSkNCi0JCWRhdGEtPm00dV9kb20g
PSBkb207DQotDQogCW10a19pb21tdV9jb25maWcoZGF0YSwgZGV2LCB0cnVlKTsNCiAJcmV0dXJu
IDA7DQogfQ0KLS0gDQoyLjE4LjANCg==

--__=_Part_Boundary_008_1853518908.2047213007--


--===============5181444029077008827==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
iommu mailing list
iommu@lists.linux-foundation.org
https://lists.linuxfoundation.org/mailman/listinfo/iommu
--===============5181444029077008827==--

